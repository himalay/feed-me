(this.webpackJsonpKhabar=this.webpackJsonpKhabar||[]).push([[1],{129:function(e,t,n){e.exports=n(270)},135:function(e,t,n){var a={"./ion-action-sheet.entry.js":[272,5],"./ion-alert.entry.js":[273,6],"./ion-app_8.entry.js":[274,7],"./ion-avatar_3.entry.js":[275,18],"./ion-back-button.entry.js":[276,19],"./ion-backdrop.entry.js":[277,43],"./ion-button_2.entry.js":[278,20],"./ion-card_5.entry.js":[279,21],"./ion-checkbox.entry.js":[280,22],"./ion-chip.entry.js":[281,23],"./ion-col_3.entry.js":[282,44],"./ion-datetime_3.entry.js":[283,10],"./ion-fab_3.entry.js":[284,24],"./ion-img.entry.js":[285,45],"./ion-infinite-scroll_2.entry.js":[286,46],"./ion-input.entry.js":[287,25],"./ion-item-option_3.entry.js":[288,26],"./ion-item_8.entry.js":[289,27],"./ion-loading.entry.js":[290,28],"./ion-menu_3.entry.js":[291,29],"./ion-modal.entry.js":[292,8],"./ion-nav_2.entry.js":[293,15],"./ion-popover.entry.js":[294,9],"./ion-progress-bar.entry.js":[295,30],"./ion-radio_2.entry.js":[296,31],"./ion-range.entry.js":[297,32],"./ion-refresher_2.entry.js":[298,11],"./ion-reorder_2.entry.js":[299,17],"./ion-ripple-effect.entry.js":[300,47],"./ion-route_4.entry.js":[301,33],"./ion-searchbar.entry.js":[302,34],"./ion-segment_2.entry.js":[303,35],"./ion-select_3.entry.js":[304,36],"./ion-slide_2.entry.js":[305,48],"./ion-spinner.entry.js":[306,13],"./ion-split-pane.entry.js":[307,49],"./ion-tab-bar_2.entry.js":[308,37],"./ion-tab_2.entry.js":[309,16],"./ion-text.entry.js":[310,38],"./ion-textarea.entry.js":[311,39],"./ion-toast.entry.js":[312,40],"./ion-toggle.entry.js":[313,12],"./ion-virtual-scroll.entry.js":[314,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=135,e.exports=r},156:function(e,t,n){var a={"./ion-icon.entry.js":[318,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=156,e.exports=r},268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(11),c=n(0),l=n.n(c),i=n(43),s=n.n(i),u=n(29),m=n(14),d=n(2),f=n(37),p=n(127),h=n(12),b=n(13),g=n(32),E=n.n(g),v=n(121),j=n(17),y=n(122),w=Object(j.a)({loading:!1,theme:"dark",feeds:[],tags:[],selectedFeeds:{},feedOrder:[]},Object.entries(localStorage).reduce((function(e,t){var n=Object(h.a)(t,2),a=n[0],r=n[1];try{e[a]=JSON.parse(r)}catch(o){e[a]=r}return e}),{})),O=Object(y.a)(w),k=O.setGlobalState,x=O.useGlobalState,N=function(e,t){k(e,t);try{window.localStorage[e]=JSON.stringify(t)}catch(n){window.localStorage[e]=t}},C=n(33),S=n.n(C);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var F=l.a.createElement("path",{d:"M20.09 30.42l-6.1 3.53v18.87l58.8 33.95V60.85z",fill:"#ef8769"}),A=l.a.createElement("path",{d:"M72.79 0l-58.8 33.95v18.87l6.1 3.53 52.7-30.43z",fill:"#f4b691"}),D=function(e){var t=e.svgRef,n=e.title,a=R(e,["svgRef","title"]);return l.a.createElement("svg",_({viewBox:"0 0 86.77 86.77",ref:t},a),n?l.a.createElement("title",null,n):null,F,A)},T=l.a.forwardRef((function(e,t){return l.a.createElement(D,_({svgRef:t},e))})),I=(n.p,function(e){return Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.Browser.open({url:e});case 2:case"end":return t.stop()}}),t)})))}),L=[{url:"khabar.github.io",title:"Progressive Web App",description:l.a.createElement(l.a.Fragment,null,"The Web-app/PWA version of ",l.a.createElement("strong",null,"Khabar")," app is also available and powered by GitHub Pages.")},{logo:b.o,url:"github.com/khabar",title:"Source Code",description:"The complete source of this application is available in GitGub."},{logo:"https://usepanda.com/favicons/apple-touch-icon.png",url:"usepanda.com",title:"Data Source (API)",description:"Panda is freely available news reader when you can discover the best tools, resources and inspiration in the world of design and tech."},{logo:"https://ionicframework.com/img/meta/favicon-192x192.png",url:"ionicframework.com",title:"SDK/UI-toolkit (React)",description:"Ionic Framework is an open source UI toolkit for building cross-platform apps using web technologies."}],U=function(){return l.a.createElement(d.i,{className:"about text-center"},l.a.createElement(T,{style:{height:"10vh",marginTop:"5vh"}}),l.a.createElement("div",null,l.a.createElement("blockquote",null,l.a.createElement("strong",null,"Khabar")," is a free and open-source cross-platform application for staying informed about the best tools and techniques in the world of design and technology developed by"," ",l.a.createElement(d.c,{className:"inline-button",fill:"clear",onClick:I("https://himalay.com.np")},"Himalay Sunuwar"),".")),l.a.createElement(d.q,{style:{marginTop:"5vh"}},L.map((function(e){var t=e.logo,n=e.url,a=e.title,r=e.description;return l.a.createElement(d.o,{key:a,detail:!1,button:!0,onClick:I("https://".concat(n))},l.a.createElement(d.b,{slot:"start"},t?l.a.createElement("img",{alt:a,src:t}):l.a.createElement(T,null)),l.a.createElement(d.p,null,l.a.createElement("h2",null,n),l.a.createElement("h3",null,a),l.a.createElement("p",null,r)))}))))},P=function(e){var t=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3),n=0;if(t<2)return"a moment ago";if(t<5)return"moments ago";if(t<60)return t+" seconds ago";if(t<120)return"a minute ago";if(t<3600){for(;t>=60;)t-=60,n+=1;return n+" minutes ago"}if(t<7200)return"an hour ago";if(t<86400){for(;t>=3600;)t-=3600,n+=1;return n+" hours ago"}if(t<172800)return"a day ago";if(t<604800){for(;t>=172800;)t-=172800,n+=1;return n+" days ago"}if(t<1209600)return"a week ago";if(t<2592e3){for(;t>=604800;)t-=604800,n+=1;return n+" weeks ago"}if(t<5184e3)return"a month ago";if(t<31536e3){for(;t>=2592e3;)t-=2592e3,n+=1;return n+" months ago"}return t<141912e4?"more than year ago":"never"},B=function(e){return Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.Browser.open({url:e});case 2:case"end":return t.stop()}}),t)})))},K=function(e){var t=e.article;return l.a.createElement(d.e,null,t.image.normal?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"img-btn",onClick:B(t.source.targetUrl)},l.a.createElement("img",{className:"card-img",alt:t.title||t.source.authorName||"x",src:t.image.normal})),l.a.createElement(d.p,{className:"item-text text-left"},l.a.createElement("h2",null,t.title),l.a.createElement("p",null,t.description))):l.a.createElement(d.g,{className:"p-0"},l.a.createElement(d.o,{detail:!1,button:!0,onClick:B(t.source.targetUrl),lines:"none"},l.a.createElement(d.b,{className:"favicon",slot:"start"},l.a.createElement("img",{alt:t.source.name,src:"https://www.google.com/s2/favicons?domain=".concat(t.source.targetUrl)})),l.a.createElement(d.p,{className:"item-text"},l.a.createElement("h2",null,t.title),l.a.createElement("p",null,t.description)))),l.a.createElement(d.f,{className:"item-footer"},l.a.createElement("a",{className:"sub-link",href:t.source.sourceUrl,target:"_system",rel:"noopener noreferrer"},t.source.likesCount,l.a.createElement(d.n,{title:"Up-votes",icon:b.e,className:"up-arrow"}),t.source.commentsCount,l.a.createElement(d.n,{title:"Comments",style:{marginLeft:".15em"},icon:b.f}))," ".concat(P(t.source.createdAt)," by "),l.a.createElement("a",{className:"sub-link",href:["reddit","redditprogramming"].includes("segment")?"https://reddit.com/u/".concat(t.source.username):t.source.authorUrl,target:"_system",rel:"noopener noreferrer"},t.source.authorName||t.source.username)))},W=function(){var e=Object(c.useRef)(!1);return Object(c.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e},G=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.usepanda.com/v4/articles?feeds=".concat(t,"&limit=30&page=1&sort=latest"));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){var t,n=e.history,a=W(),i=x("theme"),s=Object(h.a)(i,1)[0],u=x("selectedFeeds"),f=Object(h.a)(u,1)[0],p=x("feedOrder"),g=Object(h.a)(p,1)[0],j=Object(c.useState)(!1),y=Object(h.a)(j,2),w=y[0],O=y[1],C=Object(c.useState)(""),_=Object(h.a)(C,2),R=_[0],F=_[1],A=Object(c.useState)({open:!1,event:void 0}),D=Object(h.a)(A,2),T=D[0],I=D[1],L=Object(c.useState)(!1),P=Object(h.a)(L,2),B=P[0],q=P[1],M=Object(c.useState)(0),z=Object(h.a)(M,2),J=z[0],$=z[1],H=Object(c.useRef)(null),V=Object(c.useRef)(null),Y=function(e){return N("selectedFeeds",e)},Q=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>1&&void 0!==c[1])||c[1],O(n),a=E()(f),e.next=5,G(t);case 5:o=e.sent,a[t].data=o,a[t].updatedAt=Date.now(),Y(a),O(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]),X=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=f[t])&&Date.now()-(+n.updatedAt||0)>36e5)){e.next=5;break}return console.log("Fetching feed data for: "+n.title),e.next=5,Q(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f,Q]),Z=function(e){return function(){var t=g.indexOf(R)+e;t>=0&&t<g.length&&F(g[t])}},ee=function(){return a.current&&I({open:!1,event:void 0})},te=function(){return q(!1)},ne=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=3;break}return e.next=3,Q(R,!1);case 3:t.detail.complete();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){return function(){ee(),n.replace(e)}},re=Object(v.a)({onSwipedLeft:Z(1),onSwipedRight:Z(-1)});return Object(c.useEffect)((function(){if(!g.length)return n.replace("/feeds");if(!g.length){var e=Object.keys(f);N("feedOrder",e)}if(R)X(R).then(console.log).catch(console.error);else{var t=g[0];F(t),X(t).then(console.log).catch(console.error)}}),[g,f,n,R,X]),l.a.createElement(d.a,null,l.a.createElement(d.m,null,l.a.createElement(d.G,{ref:H,className:"header"},l.a.createElement(d.d,{slot:"start"},l.a.createElement(d.n,{title:"Khabar",slot:"icon-only",src:S.a})),l.a.createElement(d.E,null,R?f[R].title:"Khabar"),l.a.createElement(d.d,{slot:"end"},l.a.createElement(d.t,{isOpen:T.open,event:T.event,onDidDismiss:ee},l.a.createElement(d.o,{detail:!1},l.a.createElement(d.p,null,"Theme"),l.a.createElement(d.F,{checked:"light"===s,color:"dark"===s?"light":"dark",onIonChange:function(){ee(),function(){var e=window.localStorage.theme||"dark";document.body.classList.remove(e),e="dark"===e?"light":"dark",document.body.classList.add(e),k("theme",e),window.localStorage.theme=e}()}})),l.a.createElement(d.o,{detail:!1,button:!0,onClick:ae("/feeds")},l.a.createElement(d.p,null,"Feed"),l.a.createElement(d.n,{title:"Feed",md:b.a,ios:b.b,slot:"end"})),l.a.createElement(d.o,{detail:!1,button:!0,onClick:ae("/reorder")},l.a.createElement(d.p,null,"Reorder"),l.a.createElement(d.n,{title:"Reorder",md:b.s,ios:b.r,slot:"end"})),l.a.createElement(d.o,{detail:!1,button:!0,onClick:function(){ee(),q(!0)}},l.a.createElement(d.p,null,"About"),l.a.createElement(d.n,{title:"Reorder",icon:b.n,slot:"end"}))),l.a.createElement(d.c,{onClick:function(e){return I({open:!0,event:e.nativeEvent})},slot:"end"},l.a.createElement(d.n,{slot:"icon-only",ios:b.l,md:b.m}))))),l.a.createElement(d.i,Object.assign({},re,{className:"article-content",scrollEvents:!0,onIonScroll:function(e){var t,n,a,r,o=e.detail;o.scrollTop>J&&J>200?(null===(t=H.current)||void 0===t||t.classList.add("hide-header"),null===(n=V.current)||void 0===n||n.classList.add("hide-footer")):(null===(a=H.current)||void 0===a||a.classList.remove("hide-header"),null===(r=V.current)||void 0===r||r.classList.remove("hide-footer"));$(o.scrollTop<=0?0:o.scrollTop)}}),l.a.createElement(d.u,{slot:"fixed",onIonRefresh:ne},l.a.createElement(d.v,{refreshingSpinner:"dots"})),(!R||w)&&l.a.createElement(d.D,{className:"w-100",name:"dots",duration:30}),R&&(null===(t=f[R].data)||void 0===t?void 0:t.map((function(e){return l.a.createElement(K,{key:e._id,article:e})})))),Object(m.e)("desktop")&&l.a.createElement(l.a.Fragment,null,l.a.createElement(d.j,{vertical:"center",horizontal:"start",slot:"fixed",hidden:0===g.indexOf(R)},l.a.createElement(d.k,{translucent:!0,onClick:Z(-1)},l.a.createElement(d.n,{icon:b.g}))),l.a.createElement(d.j,{vertical:"center",horizontal:"end",slot:"fixed",hidden:g.indexOf(R)===g.length-1},l.a.createElement(d.k,{translucent:!0,onClick:Z(1)},l.a.createElement(d.n,{icon:b.h})))),l.a.createElement(d.l,null,l.a.createElement(d.B,{ref:V,className:"footer",scrollable:!0,value:R,onIonChange:function(e){return F(e.detail.value)}},g.map((function(e,t){var n=f[e];return l.a.createElement(d.C,{key:"segmentBtn"+e,value:e,"data-index":""+t,title:n.title},l.a.createElement("img",{alt:n.title,src:n.icon}))})))),l.a.createElement(d.r,{isOpen:B,swipeToClose:!0,onDidDismiss:te},l.a.createElement(d.m,null,l.a.createElement(d.G,null,l.a.createElement(d.d,{slot:"start"},l.a.createElement(d.n,{title:"Khabar",slot:"icon-only",src:S.a})),l.a.createElement(d.E,null,"About"),l.a.createElement(d.d,{slot:"end"},l.a.createElement(d.c,{onClick:te},"Close")))),l.a.createElement(U,null)))},M=n(15),z=n(123),J=n(124),$=n.n(J),H={minMatchCharLength:2,threshold:.4,keys:["title","description","categories"]},V=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.usepanda.com/v4/feeds/query?category=".concat(t.split("$").pop(),"&limit=100&page=1"));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=e.history,n=x("feeds"),a=Object(h.a)(n,1)[0],i=x("selectedFeeds"),s=Object(h.a)(i,1)[0],u=x("feedOrder"),m=Object(h.a)(u,1)[0],f=x("tags"),p=Object(h.a)(f,1)[0],b=Object(c.useState)(!1),g=Object(h.a)(b,2),v=g[0],j=g[1],y=Object(c.useState)(""),w=Object(h.a)(y,2),O=w[0],k=w[1],C=Object(c.useState)("source-category$featured"),_=Object(h.a)(C,2),R=_[0],F=_[1],A=Object(c.useState)([]),D=Object(h.a)(A,2),T=D[0],I=D[1],L=Object(c.useState)(""),U=Object(h.a)(L,2),P=U[0],B=U[1],K=Object(c.useState)([]),W=Object(h.a)(K,2),G=W[0],q=W[1],J=Object(c.useRef)(null),Y=new z.a(a,H),Q=Object(c.useCallback)((function(e,t){j(!0),q((t||a).filter((function(t){return t.categories.includes(e)}))),j(!1)}),[a]),X=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(c.length>0&&void 0!==c[0])||c[0],e.prev=1,j(t),e.next=5,fetch("https://api.usepanda.com/v1/tags");case 5:return e.next=7,e.sent.json();case 7:return a=e.sent,e.next=10,Promise.all(a.reduce((function(e,t){var n=t._id,a=t.children;return a.length?e=e.concat(a.map((function(e){return V(e._id)}))):e.push(V(n)),e}),[]));case 10:o=e.sent,N("feeds",$()((n=[]).concat.apply(n,Object(M.a)(o)),"id")),N("tags",a),j(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),Z=function(e,t){return function(){F(e),I(t),B(t.length?t[0]._id:""),Q(t.length?t[0]._id:e)}},ee=function(e){return function(){B(e),Q(e)}},te=function(e){if(e.detail&&e.detail.value){var t=e.detail.value;k(t),q(Y.search(t).map((function(e){return e.item})))}else k(""),Q(P||R)},ne=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(!1);case 2:t.detail.complete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){a.length&&p.length?G.length||Q(R):X().then((function(){return console.log("Feeds fetched")})).catch(console.error)}),[a,p,R,Q,G]);var ae=Object.keys(s);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.m,null,l.a.createElement(d.G,null,l.a.createElement(d.d,{slot:"start"},l.a.createElement(d.n,{title:"Khabar",slot:"icon-only",src:S.a})),l.a.createElement(d.E,null,"Khabar"),l.a.createElement(d.d,{slot:"end"},l.a.createElement(d.c,{disabled:0===Object.keys(s).length,onClick:function(){return t.replace("/")}},"Done")))),l.a.createElement(d.i,{className:"feed-content",ref:J},l.a.createElement(d.A,{value:O,placeholder:"Type website name or topic",onIonChange:te,onIonCancel:te}),l.a.createElement(d.u,{slot:"fixed",onIonRefresh:ne},l.a.createElement(d.v,{refreshingSpinner:"dots"})),v&&l.a.createElement(d.D,{className:"w-100",name:"dots",duration:30}),""===O&&l.a.createElement("div",{className:"text-center"},p.map((function(e,t){var n=e._id,a=e.displayName,r=e.children;return l.a.createElement(d.h,Object.assign({key:n},R===n?{color:"secondary",outline:!0}:{},{onClick:Z(n,r)}),l.a.createElement(d.p,null,a))})),T.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Be more specific"),T.map((function(e){var t=e._id,n=e.displayName;return l.a.createElement(d.h,Object.assign({key:t,className:"sub-tag"},P===t?{color:"secondary",outline:!0}:{},{onClick:ee(t)}),l.a.createElement(d.p,null,n))})))),G.map((function(e){return l.a.createElement(d.o,{detail:!1,key:e.id,className:"w-100"},l.a.createElement(d.b,{slot:"start"},l.a.createElement("img",{alt:e.title,src:e.icon})),l.a.createElement(d.p,{className:"ion-text-wrap"},l.a.createElement("h3",null,e.title),l.a.createElement("p",null,e.description)),l.a.createElement(d.F,{slot:"end",checked:ae.includes(e.id),onIonChange:(t=e,Object(o.a)(r.a.mark((function e(){var n,a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,(a=E()(s))[n]?(delete a[n],o=Object(M.a)(m),(c=o.indexOf(n))>-1&&(o.splice(c,1),N("feedOrder",o))):(a[n]=t,N("feedOrder",Object(M.a)(new Set([].concat(Object(M.a)(m),[n]))))),N("selectedFeeds",a),a[n]&&fetch("https://api.usepanda.com/v4/articles?feeds=".concat(n,"&limit=30&page=1&sort=latest")).then((function(e){return e.json()})).then((function(e){var t=E()(a);t[n].data=e,t[n].updatedAt=Date.now(),N("selectedFeeds",t)})).catch(console.error);case 5:case"end":return e.stop()}}),e)}))))}));var t}))))},Q=function(e){var t=e.history,n=x("selectedFeeds"),a=Object(h.a)(n,1)[0],i=x("feedOrder"),s=Object(h.a)(i,1)[0],u=function(e){return N("feedOrder",e)},m=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.detail){e.next=2;break}return e.abrupt("return");case 2:if(t.detail.from!==t.detail.to){e.next=4;break}return e.abrupt("return");case 4:(n=E()(s)).splice.apply(n,[t.detail.to,0].concat(Object(M.a)(n.splice(t.detail.from,1)))),u(n),t.detail.complete();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(!s.length){var e=Object.keys(a);u(e)}}),[a,s]),l.a.createElement(d.a,null,l.a.createElement(d.m,null,l.a.createElement(d.G,null,l.a.createElement(d.d,{slot:"start"},l.a.createElement(d.n,{title:"Khabar",slot:"icon-only",src:S.a})),l.a.createElement(d.E,null,"Reorder"),l.a.createElement(d.d,{slot:"end"},l.a.createElement(d.c,{onClick:function(){return t.replace("/")}},"Done")))),l.a.createElement(d.i,{className:"feed-content"},l.a.createElement(d.x,{disabled:!1,onIonItemReorder:m},s.map((function(e){return l.a.createElement(d.o,{detail:!1,key:e},l.a.createElement(d.b,{slot:"start"},l.a.createElement("img",{style:{height:"2em",borderRadius:"1em"},alt:a[e].title,src:a[e].icon})),l.a.createElement(d.p,{className:"ion-text-wrap"},l.a.createElement("h3",null,a[e].title),l.a.createElement("p",null,a[e].description)),l.a.createElement(d.w,{slot:"end"}))})))))},X=(n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),function(){return l.a.createElement(d.a,null,l.a.createElement(p.a,null,l.a.createElement(d.s,{id:"main"},l.a.createElement(d.z,{id:"main"},l.a.createElement(f.b,{path:"/feeds",component:Y,exact:!0}),l.a.createElement(f.b,{path:"/reorder",component:Q,exact:!0}),l.a.createElement(f.b,{path:"/",component:q,exact:!0}),l.a.createElement(f.b,{component:q}),l.a.createElement(f.a,{to:"/"})))))}),Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),ee=["storage.googleapis.com","usepanda.com/img","www.google.com/s2/favicons","url2png.producthunt.com","images.unsplash.com","inspgr.id/app/uploads","wp-content/uploads"];function te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(self.addEventListener("fetch",function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new RegExp(ee.join("|"),"gi").test(t.request.url)&&t.respondWith(caches.match(t.request).then((function(e){return e||fetch(t.request)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ne=window.localStorage.theme||"dark";document.body.classList.add(ne),u.a.App.addListener("backButton",Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.Modals.confirm({title:"Exit",message:"Are you sure you want to exit?",cancelButtonTitle:"No",okButtonTitle:"Yes"});case 2:t=e.sent,t.value&&u.a.App.exitApp();case 5:case"end":return e.stop()}}),e)})))),s.a.render(l.a.createElement(X,null),document.getElementById("root")),Object(m.e)("capacitor")||function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Z?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker.\n            To learn more, visit http://bit.ly/CRA-PWA")})).catch(console.error)):te(t,e)}))}}()},33:function(e,t,n){e.exports=n.p+"static/media/logo.ed5d5347.svg"}},[[129,3,4]]]);
//# sourceMappingURL=main.e86d0ef4.chunk.js.map