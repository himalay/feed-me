(window.webpackJsonpKhabar=window.webpackJsonpKhabar||[]).push([[9],{49:function(e,t,n){e.exports=n.p+"static/media/devto.d6f379c0.svg"},50:function(e,t,n){e.exports=n.p+"static/media/echojs.3e00b929.svg"},51:function(e,t,n){e.exports=n.p+"static/media/reddit.e3d4b9fe.svg"},52:function(e,t,n){e.exports=n.p+"static/media/redditprogramming.7906984b.svg"},53:function(e,t,n){e.exports=n.p+"static/media/medium.7246322d.svg"},54:function(e,t,n){e.exports=n.p+"static/media/producthunt.71db4167.svg"},55:function(e,t,n){e.exports=n.p+"static/media/datatau.1b39eba5.svg"},56:function(e,t,n){e.exports=n.p+"static/media/growthhackers.b009b6c4.svg"},57:function(e,t,n){e.exports=n.p+"static/media/stackoverflow.a2c89748.svg"},67:function(e,t,n){e.exports=n(92)},73:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":[98,55],"./ion-action-sheet-ios.entry.js":[99,56],"./ion-action-sheet-md.entry.js":[100,57],"./ion-alert-ios.entry.js":[101,46],"./ion-alert-md.entry.js":[102,47],"./ion-app_8-ios.entry.js":[103,12],"./ion-app_8-md.entry.js":[104,13],"./ion-avatar_3-ios.entry.js":[105,58],"./ion-avatar_3-md.entry.js":[106,59],"./ion-back-button-ios.entry.js":[107,60],"./ion-back-button-md.entry.js":[108,61],"./ion-backdrop-ios.entry.js":[109,52],"./ion-backdrop-md.entry.js":[110,53],"./ion-button_2-ios.entry.js":[111,27],"./ion-button_2-md.entry.js":[112,28],"./ion-card_5-ios.entry.js":[113,62],"./ion-card_5-md.entry.js":[114,63],"./ion-checkbox-ios.entry.js":[115,29],"./ion-checkbox-md.entry.js":[116,30],"./ion-chip-ios.entry.js":[117,64],"./ion-chip-md.entry.js":[118,65],"./ion-col_3.entry.js":[119,86],"./ion-datetime_3-ios.entry.js":[120,19],"./ion-datetime_3-md.entry.js":[121,20],"./ion-fab_3-ios.entry.js":[122,66],"./ion-fab_3-md.entry.js":[123,67],"./ion-img.entry.js":[124,87],"./ion-infinite-scroll_2-ios.entry.js":[125,80],"./ion-infinite-scroll_2-md.entry.js":[126,81],"./ion-input-ios.entry.js":[127,31],"./ion-input-md.entry.js":[128,32],"./ion-item-option_3-ios.entry.js":[129,33],"./ion-item-option_3-md.entry.js":[130,34],"./ion-item_8-ios.entry.js":[131,68],"./ion-item_8-md.entry.js":[132,69],"./ion-loading-ios.entry.js":[133,48],"./ion-loading-md.entry.js":[134,49],"./ion-menu_4-ios.entry.js":[135,25],"./ion-menu_4-md.entry.js":[136,26],"./ion-modal-ios.entry.js":[137,14],"./ion-modal-md.entry.js":[138,15],"./ion-nav_4.entry.js":[139,18],"./ion-popover-ios.entry.js":[140,16],"./ion-popover-md.entry.js":[141,17],"./ion-progress-bar-ios.entry.js":[142,35],"./ion-progress-bar-md.entry.js":[143,36],"./ion-radio_2-ios.entry.js":[144,37],"./ion-radio_2-md.entry.js":[145,38],"./ion-range-ios.entry.js":[146,39],"./ion-range-md.entry.js":[147,40],"./ion-refresher_2-ios.entry.js":[148,82],"./ion-refresher_2-md.entry.js":[149,83],"./ion-reorder_2-ios.entry.js":[150,76],"./ion-reorder_2-md.entry.js":[151,77],"./ion-ripple-effect.entry.js":[152,88],"./ion-route_4.entry.js":[153,41],"./ion-searchbar-ios.entry.js":[154,23],"./ion-searchbar-md.entry.js":[155,24],"./ion-segment_2-ios.entry.js":[156,70],"./ion-segment_2-md.entry.js":[157,71],"./ion-select_3-ios.entry.js":[158,42],"./ion-select_3-md.entry.js":[159,43],"./ion-slide_2-ios.entry.js":[160,78],"./ion-slide_2-md.entry.js":[161,79],"./ion-spinner.entry.js":[162,72],"./ion-split-pane-ios.entry.js":[163,89],"./ion-split-pane-md.entry.js":[164,90],"./ion-tab-bar_2-ios.entry.js":[165,73],"./ion-tab-bar_2-md.entry.js":[166,74],"./ion-tab_2.entry.js":[167,54],"./ion-text.entry.js":[168,75],"./ion-textarea-ios.entry.js":[169,44],"./ion-textarea-md.entry.js":[170,45],"./ion-toast-ios.entry.js":[171,50],"./ion-toast-md.entry.js":[172,51],"./ion-toggle-ios.entry.js":[173,21],"./ion-toggle-md.entry.js":[174,22],"./ion-virtual-scroll.entry.js":[175,91]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n(o)})}o.keys=function(){return Object.keys(r)},o.id=73,e.exports=o},74:function(e,t,n){var r={"./ion-icon.entry.js":[179,100]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n(o)})}o.keys=function(){return Object.keys(r)},o.id=74,e.exports=o},79:function(e,t,n){e.exports=n.p+"static/media/logo.ed5d5347.svg"},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n.n(r),a=n(5),i=n(0),s=n.n(i),c=n(19),u=n.n(c),l=n(13),d=n(2),m=n(66),f=n(48),p=n(181),h=n(182),g=n(49),y=n.n(g),j=n(50),b=n.n(j),v=n(51),w=n.n(v),k=n(52),x=n.n(k),E=n(53),_=n.n(E),O=n(54),N=n.n(O),S=n(55),C=n.n(S),T=n(56),A=n.n(T),U=n(57),D=n.n(U),L=[{path:"hackernews",icon:p.a,title:"Hacker News"},{path:"github",icon:h.a,title:"GitHub Trending"},{path:"reddit",src:w.a,title:"Reddit"},{path:"devto",src:y.a,title:"DEV Community"},{path:"echojs",src:b.a,title:"Echo JS"},{path:"redditprogramming",src:x.a,title:"Reddit: Programming"},{path:"datatau",src:C.a,title:"DataTau"},{path:"medium",src:_.a,title:"Medium"},{path:"growthhackers",src:A.a,title:"GrowthHackers"},{path:"producthunt",src:N.a,title:"Product Hunt"},{path:"stackoverflow",src:D.a,title:"Stack Overflow"}],P=function(e){return JSON.parse(window.localStorage[e]||"[]")},R={segment:L[0].path,loading:!1,theme:window.localStorage.theme||"dark",hackernews:P("hackernews"),github:P("github"),echojs:P("echojs"),devto:P("devto"),redditprogramming:P("redditprogramming"),datatau:P("datatau"),medium:P("medium"),reddit:P("reddit"),growthhackers:P("growthhackers"),producthunt:P("producthunt"),stackoverflow:P("stackoverflow")},W=Object(f.a)(R),B=W.GlobalStateProvider,I=W.setGlobalState,J=W.useGlobalState,G=function(e){I("loading",e)},M=function(){var e=window.localStorage.theme||"dark";document.body.classList.remove(e),e="dark"===e?"light":"dark",document.body.classList.add(e),I("theme",e),window.localStorage.theme=e},H=function(){var e=Object(a.a)(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(t,n),window.localStorage[t]=JSON.stringify(n),e.next=4,l.a.Browser.prefetch({urls:n.map(function(e){return e.source.targetUrl})});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),F=function(e){I("segment",e)},K=n(14),V=n(183),q=n(184),Y=n(185),$=function(e){var t=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3),n=0;if(t<2)return"a moment ago";if(t<5)return"moments ago";if(t<60)return t+" seconds ago";if(t<120)return"a minute ago";if(t<3600){for(;t>=60;)t-=60,n+=1;return n+" minutes ago"}if(t<7200)return"an hour ago";if(t<86400){for(;t>=3600;)t-=3600,n+=1;return n+" hours ago"}if(t<172800)return"a day ago";if(t<604800){for(;t>=172800;)t-=172800,n+=1;return n+" days ago"}if(t<1209600)return"a week ago";if(t<2592e3){for(;t>=604800;)t-=604800,n+=1;return n+" weeks ago"}if(t<5184e3)return"a month ago";if(t<31536e3){for(;t>=2592e3;)t-=2592e3,n+=1;return n+" months ago"}return t<141912e4?"more than year ago":"never"},z=[["hackernews","5718e53e7a84fb1901e05971"],["github","5718e53e7a84fb1901e059cc"],["echojs","5718e53e7a84fb1901e0592e"],["devto","5bbb1af8af62ff6841b4b26e"],["medium","5718e53e7a84fb1901e05929"],["reddit","5b910ac49642a1e1c6928ab0"],["growthhackers","5718e53d7a84fb1901e0590f"],["datatau","5718e53e7a84fb1901e0592f"],["redditprogramming","59be493f3532e00343101d80"],["producthunt","5718e53e7a84fb1901e059c7"],["stackoverflow","5b63425c9642a1e1c6927e9e"]],Q={headers:{Origin:"https://khabar.github.io/"}},X=function(){var e=Object(a.a)(o.a.mark(function e(t,n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/api.usepanda.com/v4/articles?limit=30&page=1&sort=popular&feeds="+n,Q);case 2:return e.next=4,e.sent.json();case 4:return e.t0=function(e){return void 0===e.source.likesCount||e.source.likesCount},r=e.sent.filter(e.t0),e.next=8,H(t,r);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Object(a.a)(o.a.mark(function e(t){var n,r,a,i,s,c,u,l,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Date.now(),r=+(window.localStorage.getItem("fetchedAt")||0),!t){e.next=10;break}if(!(a=z.find(function(e){return Object(K.a)(e,1)[0]===t}))){e.next=8;break}return e.next=8,X(t,a[1]);case 8:e.next=24;break;case 10:if(!(n-r>36e5)){e.next=24;break}window.localStorage.setItem("fetchedAt",""+n),G(!0),i=0,s=z;case 14:if(!(i<s.length)){e.next=24;break}return c=s[i],u=Object(K.a)(c,2),l=u[0],d=u[1],e.next=21,X(l,d);case 21:i++,e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.error(e.t0);case 29:return e.prev=29,G(!1),e.finish(29);case 32:case"end":return e.stop()}},e,null,[[0,26,29,32]])}));return function(t){return e.apply(this,arguments)}}(),ee=s.a.createRef(),te=s.a.createRef(),ne=function(){var e=Object(a.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.current.slideTo(+t.detail.value);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(a.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=F,e.next=3,te.current.getActiveIndex();case 3:e.t1=e.sent,e.t2=L[e.t1].path,(0,e.t0)(e.t2),ee.current.scrollToTop();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=J("segment"),t=Object(K.a)(e,1)[0],r=L.find(function(e){return e.path===t}),i=J("loading"),c=Object(K.a)(i,1)[0],u=function(){var e=Object(a.a)(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:n.detail.complete();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.k,null,s.a.createElement(d.y,{className:t},s.a.createElement(d.e,{slot:"start"},s.a.createElement(d.l,{title:"Khabar",slot:"icon-only",src:n(79)})),s.a.createElement(d.x,null,r.title),c&&s.a.createElement(d.w,{name:"dots",slot:"end",duration:30}),s.a.createElement(d.e,{slot:"end"},s.a.createElement(d.d,{onClick:M},s.a.createElement(d.l,{title:"Toggle theme",className:"theme-toggle",icon:V.a,slot:"icon-only"}))))),s.a.createElement(d.i,{ref:ee},s.a.createElement(d.q,{slot:"fixed",onIonRefresh:u},s.a.createElement(d.r,{refreshingSpinner:"dots"})),s.a.createElement(d.v,{ref:te,options:{initialSlide:0,slidesPerView:1},onIonSlideWillChange:re},L.filter(function(e){var t=e.path;return localStorage[t]}).map(function(e){var n=e.path,r=e.title,i=JSON.parse(localStorage[n]);return s.a.createElement(d.u,{key:n,title:r,className:"cards ".concat(n)},i.map(function(e){return s.a.createElement(d.f,{key:e._id},s.a.createElement(d.h,{className:"p-0"},s.a.createElement(d.m,{button:!0,onClick:(n=e.source.targetUrl,Object(a.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.Browser.open({url:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))),lines:"none"},s.a.createElement(d.c,{className:"favicon",slot:"start"},s.a.createElement("img",{alt:e.source.displayName,src:"https://www.google.com/s2/favicons?domain=".concat(e.source.targetUrl)})),s.a.createElement(d.n,{className:"item-text"},s.a.createElement("h2",null,e.title),e.description&&s.a.createElement("p",null,e.description)))),s.a.createElement(d.g,{className:"item-footer"},s.a.createElement("a",{hidden:"medium"===t,className:"sub-link",href:e.source.sourceUrl,target:"_system",rel:"noopener noreferrer"},e.source.likesCount,s.a.createElement(d.l,{title:"Up-votes",icon:q.a.md,className:"up-arrow"}),e.source.commentsCount,s.a.createElement(d.l,{title:"Comments",style:{marginLeft:".15em"},icon:Y.a.md}))," ".concat($(e.source.createdAt)," by "),s.a.createElement("a",{className:"sub-link",href:["reddit","redditprogramming"].includes(t)?"https://reddit.com/u/".concat(e.source.username):e.source.authorUrl,target:"_system",rel:"noopener noreferrer"},e.source.authorName||e.source.username)));var n}))}))),s.a.createElement(d.j,{className:t},s.a.createElement(d.s,{scrollable:!0,onIonChange:ne},L.map(function(e,n){var r=e.path,o=e.title,a=e.icon,i=e.src;return s.a.createElement(d.t,{key:r,value:""+n,checked:t===r},s.a.createElement(d.l,Object.assign({title:o},a?{icon:a}:{src:i})))}))))},ae=(n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),function(){return Z().catch(console.error),s.a.createElement(B,null,s.a.createElement(d.b,null,s.a.createElement(m.a,null,s.a.createElement(d.p,{id:"main"},s.a.createElement(oe,null)))))}),ie=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function se(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ce=window.localStorage.theme||"dark";document.body.classList.add(ce),l.a.App.addListener("backButton",Object(a.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.Modals.confirm({title:"Exit",message:"Are you sure you want to exit?",cancelButtonTitle:"No",okButtonTitle:"Yes"});case 2:t=e.sent,t.value&&l.a.App.exitApp();case 5:case"end":return e.stop()}},e)}))),u.a.render(s.a.createElement(ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ie?(!function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):se(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):se(t,e)})}}()}},[[67,10,11]]]);
//# sourceMappingURL=main.308e9d63.chunk.js.map