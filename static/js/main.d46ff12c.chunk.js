(this.webpackJsonpKhabar=this.webpackJsonpKhabar||[]).push([[8],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(0),i=n.n(o),s=n(25),c=n.n(s),l=n(19),u=n(3),d=n(55),m=n(69),f=n(191),p=n(192),h=n(58),g=n.n(h),y=n(59),b=n.n(y),v=n(60),j=n.n(v),w=n(61),k=n.n(w),x=n(62),E=n.n(x),_=n(63),S=n.n(_),N=n(64),O=n.n(N),C=n(65),T=n.n(C),A=n(66),U=n.n(A),D=[{path:"hackernews",icon:f.a,title:"Hacker News"},{path:"github",icon:p.a,title:"GitHub Trending"},{path:"reddit",src:j.a,title:"Reddit"},{path:"devto",src:g.a,title:"DEV Community"},{path:"echojs",src:b.a,title:"Echo JS"},{path:"redditprogramming",src:k.a,title:"Reddit: Programming"},{path:"datatau",src:O.a,title:"DataTau"},{path:"medium",src:E.a,title:"Medium"},{path:"growthhackers",src:T.a,title:"GrowthHackers"},{path:"producthunt",src:S.a,title:"Product Hunt"},{path:"stackoverflow",src:U.a,title:"Stack Overflow"}],L=function(e){return JSON.parse(window.localStorage[e]||"[]")},P={segment:D[0].path,loading:!1,theme:window.localStorage.theme||"dark",hackernews:L("hackernews"),github:L("github"),echojs:L("echojs"),devto:L("devto"),redditprogramming:L("redditprogramming"),datatau:L("datatau"),medium:L("medium"),reddit:L("reddit"),growthhackers:L("growthhackers"),producthunt:L("producthunt"),stackoverflow:L("stackoverflow")},R=Object(m.createGlobalState)(P),W=R.GlobalStateProvider,B=R.setGlobalState,I=R.useGlobalState,G=function(e){B("loading",e)},J=function(){var e=window.localStorage.theme||"dark";document.body.classList.remove(e),e="dark"===e?"light":"dark",document.body.classList.add(e),B("theme",e),window.localStorage.theme=e},M=function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return B(e,t),window.localStorage[e]=JSON.stringify(t),n.next=4,a.a.awrap(l.a.Browser.prefetch({urls:t.map((function(e){return e.source.targetUrl}))}));case 4:case"end":return n.stop()}}))},H=function(e){B("segment",e)},F=n(22),K=n(193),V=n(194),q=n(195),Y=function(e){var t=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3),n=0;if(t<2)return"a moment ago";if(t<5)return"moments ago";if(t<60)return t+" seconds ago";if(t<120)return"a minute ago";if(t<3600){for(;t>=60;)t-=60,n+=1;return n+" minutes ago"}if(t<7200)return"an hour ago";if(t<86400){for(;t>=3600;)t-=3600,n+=1;return n+" hours ago"}if(t<172800)return"a day ago";if(t<604800){for(;t>=172800;)t-=172800,n+=1;return n+" days ago"}if(t<1209600)return"a week ago";if(t<2592e3){for(;t>=604800;)t-=604800,n+=1;return n+" weeks ago"}if(t<5184e3)return"a month ago";if(t<31536e3){for(;t>=2592e3;)t-=2592e3,n+=1;return n+" months ago"}return t<141912e4?"more than year ago":"never"},$=[["hackernews","5718e53e7a84fb1901e05971"],["github","5718e53e7a84fb1901e059cc"],["echojs","5718e53e7a84fb1901e0592e"],["devto","5bbb1af8af62ff6841b4b26e"],["medium","5718e53e7a84fb1901e05929"],["reddit","5b910ac49642a1e1c6928ab0"],["growthhackers","5718e53d7a84fb1901e0590f"],["datatau","5718e53e7a84fb1901e0592f"],["redditprogramming","59be493f3532e00343101d80"],["producthunt","5718e53e7a84fb1901e059c7"],["stackoverflow","5b63425c9642a1e1c6927e9e"]],z={headers:{Origin:"https://khabar.github.io/"}},Q=function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=a.a,r.next=3,a.a.awrap(fetch("https://cors-anywhere.herokuapp.com/api.usepanda.com/v4/articles?limit=30&page=1&sort=popular&feeds="+t,z));case 3:return r.t1=r.sent.json(),r.next=6,r.t0.awrap.call(r.t0,r.t1);case 6:return r.t2=function(e){return void 0===e.source.likesCount||e.source.likesCount},n=r.sent.filter(r.t2),r.next=10,a.a.awrap(M(e,n));case 10:case"end":return r.stop()}}))},X=function(e){var t,n,r,o,i,s,c,l,u,d,m,f;return a.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(p.prev=0,t=Date.now(),n=+(window.localStorage.getItem("fetchedAt")||0),!e){p.next=10;break}if(!(r=$.find((function(t){return Object(F.a)(t,1)[0]===e})))){p.next=8;break}return p.next=8,a.a.awrap(Q(e,r[1]));case 8:p.next=42;break;case 10:if(!(t-n>36e5)){p.next=42;break}window.localStorage.setItem("fetchedAt",""+t),G(!0),o=!0,i=!1,s=void 0,p.prev=16,c=$[Symbol.iterator]();case 18:if(o=(l=c.next()).done){p.next=28;break}return u=l.value,d=Object(F.a)(u,2),m=d[0],f=d[1],p.next=25,a.a.awrap(Q(m,f));case 25:o=!0,p.next=18;break;case 28:p.next=34;break;case 30:p.prev=30,p.t0=p.catch(16),i=!0,s=p.t0;case 34:p.prev=34,p.prev=35,o||null==c.return||c.return();case 37:if(p.prev=37,!i){p.next=40;break}throw s;case 40:return p.finish(37);case 41:return p.finish(34);case 42:p.next=47;break;case 44:p.prev=44,p.t1=p.catch(0),console.error(p.t1);case 47:return p.prev=47,G(!1),p.finish(47);case 50:case"end":return p.stop()}}),null,null,[[0,44,47,50],[16,30,34,42],[35,,37,41]])},Z=i.a.createRef(),ee=i.a.createRef(),te=function(e){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(ee.current.slideTo(+e.detail.value));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ne=function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=H,e.next=3,a.a.awrap(ee.current.getActiveIndex());case 3:e.t1=e.sent,e.t2=D[e.t1].path,(0,e.t0)(e.t2),Z.current.scrollToTop();case 7:case"end":return e.stop()}}))},re=function(){var e=I("segment"),t=Object(F.a)(e,1)[0],r=D.find((function(e){return e.path===t})),o=I("loading"),s=Object(F.a)(o,1)[0];return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.k,null,i.a.createElement(u.y,{className:t},i.a.createElement(u.e,{slot:"start"},i.a.createElement(u.l,{title:"Khabar",slot:"icon-only",src:n(89)})),i.a.createElement(u.x,null,r.title),s&&i.a.createElement(u.w,{name:"dots",slot:"end",duration:30}),i.a.createElement(u.e,{slot:"end"},i.a.createElement(u.d,{onClick:J},i.a.createElement(u.l,{title:"Toggle theme",className:"theme-toggle",icon:K.a,slot:"icon-only"}))))),i.a.createElement(u.i,{ref:Z},i.a.createElement(u.q,{slot:"fixed",onIonRefresh:function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(X(t));case 2:e.detail.complete();case 3:case"end":return n.stop()}}))}},i.a.createElement(u.r,{refreshingSpinner:"dots"})),i.a.createElement(u.v,{ref:ee,options:{initialSlide:0,slidesPerView:1},onIonSlideWillChange:ne},D.filter((function(e){var t=e.path;return localStorage[t]})).map((function(e){var n=e.path,r=e.title,o=JSON.parse(localStorage[n]);return i.a.createElement(u.u,{key:n,title:r,className:"cards ".concat(n)},o.map((function(e){return i.a.createElement(u.f,{key:e._id},i.a.createElement(u.h,{className:"p-0"},i.a.createElement(u.m,{button:!0,onClick:(n=e.source.targetUrl,function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(l.a.Browser.open({url:n}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))}),lines:"none"},i.a.createElement(u.c,{className:"favicon",slot:"start"},i.a.createElement("img",{alt:e.source.displayName,src:"https://www.google.com/s2/favicons?domain=".concat(e.source.targetUrl)})),i.a.createElement(u.n,{className:"item-text"},i.a.createElement("h2",null,e.title),e.description&&i.a.createElement("p",null,e.description)))),i.a.createElement(u.g,{className:"item-footer"},i.a.createElement("a",{hidden:"medium"===t,className:"sub-link",href:e.source.sourceUrl,target:"_system",rel:"noopener noreferrer"},e.source.likesCount,i.a.createElement(u.l,{title:"Up-votes",icon:V.a.md,className:"up-arrow"}),e.source.commentsCount,i.a.createElement(u.l,{title:"Comments",style:{marginLeft:".15em"},icon:q.a.md}))," ".concat(Y(e.source.createdAt)," by "),i.a.createElement("a",{className:"sub-link",href:["reddit","redditprogramming"].includes(t)?"https://reddit.com/u/".concat(e.source.username):e.source.authorUrl,target:"_system",rel:"noopener noreferrer"},e.source.authorName||e.source.username)));var n})))})))),i.a.createElement(u.j,{className:t},i.a.createElement(u.s,{scrollable:!0,onIonChange:te},D.map((function(e,n){var r=e.path,a=e.title,o=e.icon,s=e.src;return i.a.createElement(u.t,{key:r,value:""+n,checked:t===r},i.a.createElement(u.l,Object.assign({title:a},o?{icon:o}:{src:s})))})))))},ae=(n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),n(101),function(){return X().catch(console.error),i.a.createElement(W,null,i.a.createElement(u.b,null,i.a.createElement(d.a,null,i.a.createElement(u.p,{id:"main"},i.a.createElement(re,null)))))}),oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var se=window.localStorage.theme||"dark";document.body.classList.add(se),l.a.App.addListener("backButton",(function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(l.a.Modals.confirm({title:"Exit",message:"Are you sure you want to exit?",cancelButtonTitle:"No",okButtonTitle:"Yes"}));case 2:e=t.sent,e.value&&l.a.App.exitApp();case 5:case"end":return t.stop()}}))})),c.a.render(i.a.createElement(ae,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");oe?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ie(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):ie(t,e)}))}}()},58:function(e,t,n){e.exports=n.p+"static/media/devto.d6f379c0.svg"},59:function(e,t,n){e.exports=n.p+"static/media/echojs.3e00b929.svg"},60:function(e,t,n){e.exports=n.p+"static/media/reddit.e3d4b9fe.svg"},61:function(e,t,n){e.exports=n.p+"static/media/redditprogramming.7906984b.svg"},62:function(e,t,n){e.exports=n.p+"static/media/medium.7246322d.svg"},63:function(e,t,n){e.exports=n.p+"static/media/producthunt.71db4167.svg"},64:function(e,t,n){e.exports=n.p+"static/media/datatau.1b39eba5.svg"},65:function(e,t,n){e.exports=n.p+"static/media/growthhackers.b009b6c4.svg"},66:function(e,t,n){e.exports=n.p+"static/media/stackoverflow.a2c89748.svg"},76:function(e,t,n){e.exports=n(102)},82:function(e,t,n){var r={"./ion-action-sheet-controller_8.entry.js":[108,43],"./ion-action-sheet-ios.entry.js":[109,44],"./ion-action-sheet-md.entry.js":[110,45],"./ion-alert-ios.entry.js":[111,24],"./ion-alert-md.entry.js":[112,25],"./ion-app_8-ios.entry.js":[113,11],"./ion-app_8-md.entry.js":[114,12],"./ion-avatar_3-ios.entry.js":[115,46],"./ion-avatar_3-md.entry.js":[116,47],"./ion-back-button-ios.entry.js":[117,48],"./ion-back-button-md.entry.js":[118,49],"./ion-backdrop-ios.entry.js":[119,81],"./ion-backdrop-md.entry.js":[120,82],"./ion-button_2-ios.entry.js":[121,50],"./ion-button_2-md.entry.js":[122,51],"./ion-card_5-ios.entry.js":[123,52],"./ion-card_5-md.entry.js":[124,53],"./ion-checkbox-ios.entry.js":[125,54],"./ion-checkbox-md.entry.js":[126,55],"./ion-chip-ios.entry.js":[127,56],"./ion-chip-md.entry.js":[128,57],"./ion-col_3.entry.js":[129,83],"./ion-datetime_3-ios.entry.js":[130,20],"./ion-datetime_3-md.entry.js":[131,21],"./ion-fab_3-ios.entry.js":[132,58],"./ion-fab_3-md.entry.js":[133,59],"./ion-img.entry.js":[134,84],"./ion-infinite-scroll_2-ios.entry.js":[135,39],"./ion-infinite-scroll_2-md.entry.js":[136,40],"./ion-input-ios.entry.js":[137,60],"./ion-input-md.entry.js":[138,61],"./ion-item-option_3-ios.entry.js":[139,62],"./ion-item-option_3-md.entry.js":[140,63],"./ion-item_8-ios.entry.js":[141,64],"./ion-item_8-md.entry.js":[142,65],"./ion-loading-ios.entry.js":[143,26],"./ion-loading-md.entry.js":[144,27],"./ion-menu_4-ios.entry.js":[145,18],"./ion-menu_4-md.entry.js":[146,19],"./ion-modal-ios.entry.js":[147,14],"./ion-modal-md.entry.js":[148,15],"./ion-nav_5.entry.js":[149,13],"./ion-popover-ios.entry.js":[150,16],"./ion-popover-md.entry.js":[151,17],"./ion-progress-bar-ios.entry.js":[152,66],"./ion-progress-bar-md.entry.js":[153,67],"./ion-radio_2-ios.entry.js":[154,32],"./ion-radio_2-md.entry.js":[155,33],"./ion-range-ios.entry.js":[156,68],"./ion-range-md.entry.js":[157,69],"./ion-refresher_2-ios.entry.js":[158,41],"./ion-refresher_2-md.entry.js":[159,42],"./ion-reorder_2-ios.entry.js":[160,37],"./ion-reorder_2-md.entry.js":[161,38],"./ion-ripple-effect.entry.js":[162,85],"./ion-route_4.entry.js":[163,70],"./ion-searchbar-ios.entry.js":[164,28],"./ion-searchbar-md.entry.js":[165,29],"./ion-segment_2-ios.entry.js":[166,71],"./ion-segment_2-md.entry.js":[167,72],"./ion-select_3-ios.entry.js":[168,34],"./ion-select_3-md.entry.js":[169,35],"./ion-slide_2-ios.entry.js":[170,86],"./ion-slide_2-md.entry.js":[171,87],"./ion-spinner.entry.js":[172,73],"./ion-split-pane-ios.entry.js":[173,88],"./ion-split-pane-md.entry.js":[174,89],"./ion-tab-bar_2-ios.entry.js":[175,74],"./ion-tab-bar_2-md.entry.js":[176,75],"./ion-tab_2.entry.js":[177,36],"./ion-text.entry.js":[178,76],"./ion-textarea-ios.entry.js":[179,77],"./ion-textarea-md.entry.js":[180,78],"./ion-toast-ios.entry.js":[181,30],"./ion-toast-md.entry.js":[182,31],"./ion-toggle-ios.entry.js":[183,22],"./ion-toggle-md.entry.js":[184,23],"./ion-virtual-scroll.entry.js":[185,90]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=82,e.exports=a},83:function(e,t,n){var r={"./ion-icon.entry.js":[189,98]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=83,e.exports=a},89:function(e,t,n){e.exports=n.p+"static/media/logo.ed5d5347.svg"}},[[76,9,10]]]);
//# sourceMappingURL=main.d46ff12c.chunk.js.map