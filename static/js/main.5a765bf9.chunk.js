(this.webpackJsonpKhabar=this.webpackJsonpKhabar||[]).push([[1],{128:function(e,t,n){e.exports=n(269)},134:function(e,t,n){var a={"./ion-action-sheet.entry.js":[271,5],"./ion-alert.entry.js":[272,6],"./ion-app_8.entry.js":[273,7],"./ion-avatar_3.entry.js":[274,18],"./ion-back-button.entry.js":[275,19],"./ion-backdrop.entry.js":[276,43],"./ion-button_2.entry.js":[277,20],"./ion-card_5.entry.js":[278,21],"./ion-checkbox.entry.js":[279,22],"./ion-chip.entry.js":[280,23],"./ion-col_3.entry.js":[281,44],"./ion-datetime_3.entry.js":[282,10],"./ion-fab_3.entry.js":[283,24],"./ion-img.entry.js":[284,45],"./ion-infinite-scroll_2.entry.js":[285,46],"./ion-input.entry.js":[286,25],"./ion-item-option_3.entry.js":[287,26],"./ion-item_8.entry.js":[288,27],"./ion-loading.entry.js":[289,28],"./ion-menu_3.entry.js":[290,29],"./ion-modal.entry.js":[291,8],"./ion-nav_2.entry.js":[292,15],"./ion-popover.entry.js":[293,9],"./ion-progress-bar.entry.js":[294,30],"./ion-radio_2.entry.js":[295,31],"./ion-range.entry.js":[296,32],"./ion-refresher_2.entry.js":[297,11],"./ion-reorder_2.entry.js":[298,17],"./ion-ripple-effect.entry.js":[299,47],"./ion-route_4.entry.js":[300,33],"./ion-searchbar.entry.js":[301,34],"./ion-segment_2.entry.js":[302,35],"./ion-select_3.entry.js":[303,36],"./ion-slide_2.entry.js":[304,48],"./ion-spinner.entry.js":[305,13],"./ion-split-pane.entry.js":[306,49],"./ion-tab-bar_2.entry.js":[307,37],"./ion-tab_2.entry.js":[308,16],"./ion-text.entry.js":[309,38],"./ion-textarea.entry.js":[310,39],"./ion-toast.entry.js":[311,40],"./ion-toggle.entry.js":[312,12],"./ion-virtual-scroll.entry.js":[313,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=134,e.exports=r},155:function(e,t,n){var a={"./ion-icon.entry.js":[317,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=155,e.exports=r},267:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),o=n(12),c=n(0),l=n.n(c),i=n(42),s=n.n(i),u=n(28),m=n(2),d=n(36),f=n(126),p=n(10),h=n(13),b=n(16),g=n(121),E=Object(b.a)({loading:!1,theme:"dark",feeds:[],tags:[],selectedFeeds:{},feedOrder:[]},Object.entries(localStorage).reduce((function(e,t){var n=Object(p.a)(t,2),a=n[0],r=n[1];try{e[a]=JSON.parse(r)}catch(o){e[a]=r}return e}),{})),v=Object(g.a)(E),j=v.setGlobalState,y=v.useGlobalState,O=function(e,t){j(e,t);try{window.localStorage[e]=JSON.stringify(t)}catch(n){window.localStorage[e]=t}},w=n(31),k=n.n(w),x=n(35),C=n.n(x),S=function(e){var t=Math.floor(((new Date).getTime()-new Date(e).getTime())/1e3),n=0;if(t<2)return"a moment ago";if(t<5)return"moments ago";if(t<60)return t+" seconds ago";if(t<120)return"a minute ago";if(t<3600){for(;t>=60;)t-=60,n+=1;return n+" minutes ago"}if(t<7200)return"an hour ago";if(t<86400){for(;t>=3600;)t-=3600,n+=1;return n+" hours ago"}if(t<172800)return"a day ago";if(t<604800){for(;t>=172800;)t-=172800,n+=1;return n+" days ago"}if(t<1209600)return"a week ago";if(t<2592e3){for(;t>=604800;)t-=604800,n+=1;return n+" weeks ago"}if(t<5184e3)return"a month ago";if(t<31536e3){for(;t>=2592e3;)t-=2592e3,n+=1;return n+" months ago"}return t<141912e4?"more than year ago":"never"},_=function(e){return Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.Browser.open({url:e});case 2:case"end":return t.stop()}}),t)})))},N=function(e){var t=e.article;return l.a.createElement(m.e,null,t.image.normal?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{style:{display:"inherit"},onClick:_(t.source.targetUrl)},l.a.createElement("img",{className:"card-img",alt:t.title||t.source.authorName||"x",src:t.image.normal})),l.a.createElement(m.p,{className:"item-text text-left"},l.a.createElement("h2",null,t.title),l.a.createElement("p",null,t.description))):l.a.createElement(m.g,{className:"p-0"},l.a.createElement(m.o,{button:!0,onClick:_(t.source.targetUrl),lines:"none"},l.a.createElement(m.b,{className:"favicon",slot:"start"},l.a.createElement("img",{alt:t.source.name,src:"https://www.google.com/s2/favicons?domain=".concat(t.source.targetUrl)})),l.a.createElement(m.p,{className:"item-text"},l.a.createElement("h2",null,t.title),l.a.createElement("p",null,t.description)))),l.a.createElement(m.f,{className:"item-footer"},l.a.createElement("a",{className:"sub-link",href:t.source.sourceUrl,target:"_system",rel:"noopener noreferrer"},t.source.likesCount,l.a.createElement(m.n,{title:"Up-votes",icon:h.e,className:"up-arrow"}),t.source.commentsCount,l.a.createElement(m.n,{title:"Comments",style:{marginLeft:".15em"},icon:h.f}))," ".concat(S(t.source.createdAt)," by "),l.a.createElement("a",{className:"sub-link",href:["reddit","redditprogramming"].includes("segment")?"https://reddit.com/u/".concat(t.source.username):t.source.authorUrl,target:"_system",rel:"noopener noreferrer"},t.source.authorName||t.source.username)))},I=function(e){var t=e.feed,n=e.loading,a=e.doRefresh,r=e.updated,o=t.title,c=t.data,i=void 0===c?[]:c;return l.a.createElement(m.D,{title:o,className:"block"},l.a.createElement(m.i,{className:"slide-content"},l.a.createElement(m.u,{slot:"fixed",onIonRefresh:a},l.a.createElement(m.v,{refreshingSpinner:"dots"})),n&&l.a.createElement(m.F,{name:"dots",duration:30}),i.map((function(e){return l.a.createElement(N,{key:e._id,article:e})})),r))},R=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.usepanda.com/v4/articles?feeds=".concat(t,"&limit=30&page=1&sort=latest"));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=e.index,n=void 0===t?0:t,a=e.onIndexChange,i=y("selectedFeeds"),s=Object(p.a)(i,1)[0],u=y("feedOrder"),d=Object(p.a)(u,1)[0],f=Object(c.useState)(""),h=Object(p.a)(f,2),b=h[0],g=h[1],E=Object(c.useState)(!1),v=Object(p.a)(E,2),j=v[0],w=v[1],k=Object(c.useState)(),x=Object(p.a)(k,2),S=x[0],_=x[1],N=Object(c.useRef)(null),F=function(e){return O("selectedFeeds",e)},A=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a,o,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(c.length>1&&void 0!==c[1])||c[1],w(n),a=C()(s),e.next=5,R(t);case 5:o=e.sent,a[t].data=o,a[t].updatedAt=Date.now(),F(a),g(t),w(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]),D=Object(c.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=s[t])&&Date.now()-(+n.updatedAt||0)>36e5)){e.next=5;break}return console.log("Fetching feed data for: "+n.title),e.next=5,A(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,A]),T=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=3;break}return e.next=3,A(S,!1);case 3:t.detail.complete();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=N.current)||void 0===t?void 0:t.getActiveIndex();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=0;case 5:n=e.t0,a(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){var e=function(){if(n>=0&&n!==d.indexOf(S)){var e,t=d[n];_(t),null===(e=N.current)||void 0===e||e.slideTo(n).then((function(){return D(t)})).then((function(){return console.log("Slide index changed to: "+n)})).catch(console.error)}};if(S)e();else{var t=d[0];_(t),D(t).then(e).catch(console.error)}}),[s,d,D,S,n]),l.a.createElement(m.E,{ref:N,onIonSlideWillChange:U},d.map((function(e,t){return l.a.createElement(I,{key:e+t,feed:s[e],loading:j,updated:b===e,doRefresh:T})})))};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var T=l.a.createElement("path",{d:"M20.09 30.42l-6.1 3.53v18.87l58.8 33.95V60.85z",fill:"#ef8769"}),U=l.a.createElement("path",{d:"M72.79 0l-58.8 33.95v18.87l6.1 3.53 52.7-30.43z",fill:"#f4b691"}),P=function(e){var t=e.svgRef,n=e.title,a=D(e,["svgRef","title"]);return l.a.createElement("svg",A({viewBox:"0 0 86.77 86.77",ref:t},a),n?l.a.createElement("title",null,n):null,T,U)},W=l.a.forwardRef((function(e,t){return l.a.createElement(P,A({svgRef:t},e))})),K=(n.p,function(e){return Object(o.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.Browser.open({url:e});case 2:case"end":return t.stop()}}),t)})))}),L=[{url:"khabar.github.io",title:"Progressive Web App",description:l.a.createElement(l.a.Fragment,null,"The Web-app/PWA version of ",l.a.createElement("strong",null,"Khabar")," app is also available and powered by GitHub Pages.")},{logo:h.o,url:"github.com/khabar",title:"Source Code",description:"The complete source of this application is available in GitGub."},{logo:"https://usepanda.com/favicons/apple-touch-icon.png",url:"usepanda.com",title:"Data Source (API)",description:"Panda is freely available news reader when you can discover the best tools, resources and inspiration in the world of design and tech."},{logo:"https://ionicframework.com/img/meta/favicon-192x192.png",url:"ionicframework.com",title:"SDK/UI-toolkit (React)",description:"Ionic Framework is an open source UI toolkit for building cross-platform apps using web technologies."}],B=function(){return l.a.createElement(m.i,{className:"about text-center"},l.a.createElement(W,{style:{height:"10vh",marginTop:"5vh"}}),l.a.createElement("div",null,l.a.createElement("blockquote",null,l.a.createElement("strong",null,"Khabar")," is a free and open-source cross-platform application for staying informed about the best tools and techniques in the world of design and technology developed by"," ",l.a.createElement(m.c,{className:"inline-button",fill:"clear",onClick:K("https://himalay.com.np")},"Himalay Sunuwar"),".")),l.a.createElement(m.q,{style:{marginTop:"5vh"}},L.map((function(e){var t=e.logo,n=e.url,a=e.title,r=e.description;return l.a.createElement(m.o,{key:a,detail:!1,button:!0,onClick:K("https://".concat(n))},l.a.createElement(m.b,{slot:"start"},t?l.a.createElement("img",{alt:a,src:t}):l.a.createElement(W,null)),l.a.createElement(m.p,null,l.a.createElement("h2",null,n),l.a.createElement("h3",null,a),l.a.createElement("p",null,r)))}))))},G=function(){var e=Object(c.useRef)(!1);return Object(c.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e},z=document.URL.startsWith("http"),M=function(e){var t=e.history,n=G(),a=y("theme"),r=Object(p.a)(a,1)[0],o=y("selectedFeeds"),i=Object(p.a)(o,1)[0],s=y("feedOrder"),u=Object(p.a)(s,1)[0],d=Object(c.useState)(),f=Object(p.a)(d,2),b=f[0],g=f[1],E=Object(c.useState)({open:!1,event:void 0}),v=Object(p.a)(E,2),w=v[0],x=v[1],C=Object(c.useState)(!1),S=Object(p.a)(C,2),_=S[0],N=S[1],I=function(e){return function(){var t=u.indexOf(b)+e;t>=0&&g(u[t])}},R=function(){return n.current&&x({open:!1,event:void 0})},A=function(e){return function(){R(),t.replace(e)}};return Object(c.useEffect)((function(){if(u.length)if(u.length)b||g(u[0]);else{var e=Object.keys(i);O("feedOrder",e)}else t.replace("/feeds")}),[u,i,t,b]),l.a.createElement(m.a,null,l.a.createElement(m.m,null,l.a.createElement(m.I,null,l.a.createElement(m.d,{slot:"start"},l.a.createElement(m.n,{title:"Khabar",slot:"icon-only",src:k.a})),l.a.createElement(m.G,null,b?i[b].title:"Khabar"),l.a.createElement(m.d,{slot:"end"},l.a.createElement(m.t,{isOpen:w.open,event:w.event,onDidDismiss:R},l.a.createElement(m.o,{detail:!1},l.a.createElement(m.p,null,"Theme"),l.a.createElement(m.H,{className:"theme-toggle",mode:"ios",checked:"light"===r,color:"dark"===r?"light":"dark",onIonChange:function(){R(),function(){var e=window.localStorage.theme||"dark";document.body.classList.remove(e),e="dark"===e?"light":"dark",document.body.classList.add(e),j("theme",e),window.localStorage.theme=e}()}})),l.a.createElement(m.o,{detail:!1,button:!0,onClick:A("/feeds")},l.a.createElement(m.p,null,"Feed"),l.a.createElement(m.n,{title:"Feed",md:h.a,ios:h.b,slot:"end"})),l.a.createElement(m.o,{detail:!1,button:!0,onClick:A("/reorder")},l.a.createElement(m.p,null,"Reorder"),l.a.createElement(m.n,{title:"Reorder",md:h.s,ios:h.r,slot:"end"})),l.a.createElement(m.o,{detail:!1,button:!0,onClick:function(){R(),N(!0)}},l.a.createElement(m.p,null,"About"),l.a.createElement(m.n,{title:"Reorder",icon:h.n,slot:"end"}))),l.a.createElement(m.c,{onClick:function(e){return x({open:!0,event:e.nativeEvent})},slot:"end"},l.a.createElement(m.n,{slot:"icon-only",ios:h.l,md:h.m}))))),l.a.createElement(F,{index:u.indexOf(b),onIndexChange:function(e){return g(u[e])}}),z&&l.a.createElement(l.a.Fragment,null,l.a.createElement(m.j,{vertical:"center",horizontal:"start",slot:"fixed"},l.a.createElement(m.k,{size:"small",translucent:!0,onClick:I(-1)},l.a.createElement(m.n,{icon:h.g}))),l.a.createElement(m.j,{vertical:"center",horizontal:"end",slot:"fixed"},l.a.createElement(m.k,{size:"small",translucent:!0,onClick:I(1)},l.a.createElement(m.n,{icon:h.h})))),l.a.createElement(m.l,null,l.a.createElement(m.B,{scrollable:!0,value:b,onIonChange:function(e){return g(e.detail.value)}},u.map((function(e,t){var n=i[e];return l.a.createElement(m.C,{key:e,value:e,"data-index":""+t,title:n.title},l.a.createElement("img",{alt:n.title,src:n.icon}))})))),l.a.createElement(m.r,{isOpen:_,swipeToClose:!0,onDidDismiss:function(){return N(!1)}},l.a.createElement(m.m,null,l.a.createElement(m.I,null,l.a.createElement(m.d,{slot:"start"},l.a.createElement(m.n,{title:"Khabar",slot:"icon-only",src:k.a})),l.a.createElement(m.G,null,"About"),l.a.createElement(m.d,{slot:"end"},l.a.createElement(m.c,{onClick:function(){return N(!1)}},"Close")))),l.a.createElement(B,null)))},q=n(15),H=n(122),J=n(123),$=n.n(J),V={minMatchCharLength:2,threshold:.4,keys:["title","description","categories"]},Y=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.usepanda.com/v4/feeds/query?category=".concat(t.split("$").pop(),"&limit=100&page=1"));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){var t=e.history,n=y("feeds"),a=Object(p.a)(n,1)[0],i=y("selectedFeeds"),s=Object(p.a)(i,1)[0],u=y("feedOrder"),d=Object(p.a)(u,1)[0],f=y("tags"),h=Object(p.a)(f,1)[0],b=Object(c.useState)(!1),g=Object(p.a)(b,2),E=g[0],v=g[1],j=Object(c.useState)(""),w=Object(p.a)(j,2),x=w[0],S=w[1],_=Object(c.useState)("source-category$featured"),N=Object(p.a)(_,2),I=N[0],R=N[1],F=Object(c.useState)([]),A=Object(p.a)(F,2),D=A[0],T=A[1],U=Object(c.useState)(""),P=Object(p.a)(U,2),W=P[0],K=P[1],L=Object(c.useState)([]),B=Object(p.a)(L,2),G=B[0],z=B[1],M=Object(c.useRef)(null),J=new H.a(a,V),Q=Object(c.useCallback)((function(e,t){v(!0),z((t||a).filter((function(t){return t.categories.includes(e)}))),v(!1)}),[a]),X=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(c.length>0&&void 0!==c[0])||c[0],e.prev=1,v(t),e.next=5,fetch("https://api.usepanda.com/v1/tags");case 5:return e.next=7,e.sent.json();case 7:return a=e.sent,e.next=10,Promise.all(a.reduce((function(e,t){var n=t._id,a=t.children;return a.length?e=e.concat(a.map((function(e){return Y(e._id)}))):e.push(Y(n)),e}),[]));case 10:o=e.sent,O("feeds",$()((n=[]).concat.apply(n,Object(q.a)(o)),"id")),O("tags",a),v(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),Z=function(e,t){return function(){R(e),T(t),K(t.length?t[0]._id:""),Q(t.length?t[0]._id:e)}},ee=function(e){return function(){K(e),Q(e)}},te=function(e){if(e.detail&&e.detail.value){var t=e.detail.value;S(t),z(J.search(t).map((function(e){return e.item})))}else S(""),Q(W||I)},ne=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(!1);case 2:t.detail.complete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){a.length&&h.length?G.length||Q(I):X().then((function(){return console.log("Feeds fetched")})).catch(console.error)}),[a,h,I,Q,G]);var ae=Object.keys(s);return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.m,null,l.a.createElement(m.I,null,l.a.createElement(m.d,{slot:"start"},l.a.createElement(m.n,{title:"Khabar",slot:"icon-only",src:k.a})),l.a.createElement(m.G,null,"Khabar"),l.a.createElement(m.d,{onClick:function(){return t.replace("/")},slot:"end"},l.a.createElement(m.c,null,"Done")))),l.a.createElement(m.i,{ref:M},l.a.createElement(m.A,{value:x,placeholder:"Type website name or topic",onIonChange:te,onIonCancel:te}),l.a.createElement(m.u,{slot:"fixed",onIonRefresh:ne},l.a.createElement(m.v,{refreshingSpinner:"dots"})),E&&l.a.createElement(m.F,{className:"w-100",name:"dots",duration:30}),""===x&&l.a.createElement("div",{className:"text-center"},h.map((function(e,t){var n=e._id,a=e.displayName,r=e.children;return l.a.createElement(m.h,Object.assign({key:n},I===n?{color:"secondary",outline:!0}:{},{onClick:Z(n,r)}),l.a.createElement(m.p,null,a))})),D.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Be more specific"),D.map((function(e){var t=e._id,n=e.displayName;return l.a.createElement(m.h,Object.assign({key:t,className:"sub-tag"},W===t?{color:"secondary",outline:!0}:{},{onClick:ee(t)}),l.a.createElement(m.p,null,n))})))),G.map((function(e){return l.a.createElement(m.o,{key:e.id,className:"w-100"},l.a.createElement(m.b,{slot:"start"},l.a.createElement("img",{alt:e.title,src:e.icon})),l.a.createElement(m.p,{className:"ion-text-wrap"},l.a.createElement("h3",null,e.title),l.a.createElement("p",null,e.description)),l.a.createElement(m.H,{slot:"end",checked:ae.includes(e.id),onIonChange:(t=e,Object(o.a)(r.a.mark((function e(){var n,a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,(a=C()(s))[n]?(delete a[n],o=Object(q.a)(d),(c=o.indexOf(n))>-1&&(o.splice(c,1),O("feedOrder",o))):(a[n]=t,O("feedOrder",Object(q.a)(new Set([].concat(Object(q.a)(d),[n]))))),O("selectedFeeds",a);case 4:case"end":return e.stop()}}),e)}))))}));var t}))))},X=function(e){var t=e.history,n=y("selectedFeeds"),a=Object(p.a)(n,1)[0],i=y("feedOrder"),s=Object(p.a)(i,1)[0],u=function(e){return O("feedOrder",e)},d=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.detail){e.next=2;break}return e.abrupt("return");case 2:if(t.detail.from!==t.detail.to){e.next=4;break}return e.abrupt("return");case 4:(n=C()(s)).splice.apply(n,[t.detail.to,0].concat(Object(q.a)(n.splice(t.detail.from,1)))),u(n),t.detail.complete();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(!s.length){var e=Object.keys(a);u(e)}}),[a,s]),l.a.createElement(m.a,null,l.a.createElement(m.m,null,l.a.createElement(m.I,null,l.a.createElement(m.d,{slot:"start"},l.a.createElement(m.n,{title:"Khabar",slot:"icon-only",src:k.a})),l.a.createElement(m.G,null,"Reorder"),l.a.createElement(m.d,{slot:"end"},l.a.createElement(m.c,{onClick:function(){return t.replace("/")}},"Done")))),l.a.createElement(m.i,null,l.a.createElement(m.x,{disabled:!1,onIonItemReorder:d},s.map((function(e){return l.a.createElement(m.o,{key:e},l.a.createElement(m.b,{slot:"start"},l.a.createElement("img",{style:{height:"2em",borderRadius:"1em"},alt:a[e].title,src:a[e].icon})),l.a.createElement(m.p,{className:"ion-text-wrap"},l.a.createElement("h3",null,a[e].title),l.a.createElement("p",null,a[e].description)),l.a.createElement(m.w,{slot:"end"}))})))))},Z=(n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),function(){return l.a.createElement(m.a,null,l.a.createElement(f.a,null,l.a.createElement(m.s,{id:"main"},l.a.createElement(m.z,{id:"main"},l.a.createElement(d.a,{path:"/feeds",component:Q,exact:!0}),l.a.createElement(d.a,{path:"/reorder",component:X,exact:!0}),l.a.createElement(d.a,{path:"/",component:M,exact:!0}),l.a.createElement(d.a,{component:M})))))}),ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ne=window.localStorage.theme||"dark";document.body.classList.add(ne),u.a.App.addListener("backButton",Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.Modals.confirm({title:"Exit",message:"Are you sure you want to exit?",cancelButtonTitle:"No",okButtonTitle:"Yes"});case 2:t=e.sent,t.value&&u.a.App.exitApp();case 5:case"end":return e.stop()}}),e)})))),s.a.render(l.a.createElement(Z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ee?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):te(t,e)}))}}()},31:function(e,t,n){e.exports=n.p+"static/media/logo.ed5d5347.svg"}},[[128,3,4]]]);
//# sourceMappingURL=main.5a765bf9.chunk.js.map