{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","state.ts","icons/logo.svg","webpack:///./src/icons/logo.svg?0bb6","components/About.tsx","utils/timeAgo.ts","components/Card.tsx","utils/useIsMounted.ts","utils/apiRequest.ts","pages/Home.tsx","pages/Feeds.tsx","pages/Reorder.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","initialState","isOffline","sort","theme","feeds","tags","selectedFeeds","feedOrder","entries","localStorage","reduce","acc","key","value","JSON","parse","createGlobalState","setGlobalState","useGlobalState","setGlobalStatePersistent","window","stringify","addEventListener","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fill","SvgLogo","_ref","svgRef","title","titleId","props","viewBox","ref","ForwardRef","openUrl","url","a","Plugins","Browser","open","resources","description","logo","logoGithub","About","className","style","height","marginTop","onClick","href","rel","maxHeight","alt","src","detail","button","slot","timeAgo","datetime","ago","Math","floor","Date","getTime","part","Card","article","_id","image","normal","targetUrl","authorName","lines","name","sourceUrl","likesCount","icon","caretUp","commentsCount","marginLeft","chatbubble","createdAt","includes","username","authorUrl","animated","width","useIsMounted","isMounted","useRef","useEffect","current","API_BASEURL","requiredOptions","headers","Origin","apiRequest","path","options","status","fetchOptions","fetch","res","ok","json","fetchArticles","feedId","HIDE_FOOTER","windowWidth","innerWidth","Home","history","useState","loading","setLoading","currentFeedId","setCurrentFeedId","event","undefined","showPopover","setShowPopover","showAboutModal","setShowAboutModal","lastScrollTop","setLastScrollTop","isFooterHidden","setIsFooterHidden","error","setError","contentRef","segmentRef","fetchAndSaveFeedData","useCallback","showLoading","sortOverride","selectedFeedsClone","cloneDeep","data","updatedAt","now","message","hydrateFeedDataIfNeeded","feed","console","log","handleNavigation","newIndex","handleMenuDismiss","handleHideAboutModal","doRefresh","complete","handleContentScroll","scrollTop","classList","add","remove","gesture","push","defaultFeedOrder","firstFeedId","catch","createGesture","el","gestureName","onMove","ev","deltaX","enable","App","addListener","Modals","confirm","cancelButtonTitle","okButtonTitle","exitApp","destroy","removeAllListeners","logoSvg","cloudOffline","cb","document","body","toggleSort","sortBy","toUpperCase","slice","ios","flameOutline","timeOutline","md","flame","time","isOpen","onDidDismiss","checked","color","onIonChange","toggleTheme","routerLink","addOutline","reorderTwoSharp","reorderThreeOutline","information","nativeEvent","ellipsisHorizontal","ellipsisVertical","scrollEvents","onIonScroll","throttle","onIonRefresh","refreshingSpinner","duration","Array","x","buttons","text","handler","isPlatform","vertical","horizontal","hidden","translucent","chevronBack","chevronForward","scrollable","data-index","swipeToClose","fuseOptions","minMatchCharLength","threshold","fetchFeedsByTag","tagId","split","pop","Feeds","mounted","searchText","setSearchText","selectedTag","setSelectedTag","subTags","setSubTags","selectedSubTag","setSelectedSubTag","filteredFeeds","setFilteredFeeds","fuse","Fuse","setSelectedFeeds","setFeedOrder","handleTagFilter","newFeeds","filter","categories","fetchFeeds","tagsData","all","children","concat","feedsDataArray","uniqBy","handleTagSelect","handleSubTagSelect","handleSearch","search","item","selectedFeedIds","disabled","placeholder","onIonCancel","displayName","outline","random","newFeedOrder","index","splice","Set","Reorder","values","handleReorder","from","to","onIonItemReorder","component","exact","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","getElementById","URL","process","origin","response","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"qFAAA,IAAIA,EAAM,CACT,8BAA+B,CAC9B,IACA,GAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,GAED,0BAA2B,CAC1B,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,sBAAuB,CACtB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,qBAAsB,CACrB,IACA,IAED,mCAAoC,CACnC,IACA,IAED,uBAAwB,CACvB,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,wBAAyB,CACxB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,uBAAwB,CACvB,IACA,GAED,uBAAwB,CACvB,IACA,IAED,yBAA0B,CACzB,IACA,GAED,8BAA+B,CAC9B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,uBAAwB,CACvB,IACA,IAED,6BAA8B,CAC7B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,+BAAgC,CAC/B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,yBAA0B,CACzB,IACA,IAED,yBAA0B,CACzB,IACA,IAED,4BAA6B,CAC5B,IACA,IAED,2BAA4B,CAC3B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,sBAAuB,CACtB,IACA,IAED,0BAA2B,CAC1B,IACA,IAED,uBAAwB,CACvB,IACA,IAED,wBAAyB,CACxB,IACA,IAED,gCAAiC,CAChC,IACA,KAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAMX,EAAIE,GAAMU,EAAKD,EAAI,GAC7B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","file":"static/js/main.149112d4.chunk.js","sourcesContent":["var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t237,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t238,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t239,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t240,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t241,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t242,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t243,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t244,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t245,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t246,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t247,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t248,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t249,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t250,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t251,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t252,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t253,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t254,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t255,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t256,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t257,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t258,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t259,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t260,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t261,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t262,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t263,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t264,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t265,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t266,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t267,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t268,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t269,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t270,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t271,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t272,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t273,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t274,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t275,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t276,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t277,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t278,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t279,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 113;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t281,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 117;\nmodule.exports = webpackAsyncContext;","import { createGlobalState } from 'react-hooks-global-state'\n\nconst initialState = {\n  isOffline: false,\n  sort: 'popular',\n  theme: 'dark',\n  feeds: [],\n  tags: [],\n  selectedFeeds: {},\n  feedOrder: [],\n  ...Object.entries(localStorage).reduce<{ [key: string]: any }>((acc, [key, value]) => {\n    try {\n      acc[key] = JSON.parse(value)\n    } catch {\n      acc[key] = value\n    }\n\n    return acc\n  }, {}),\n} as { [key: string]: any }\n\nexport const { setGlobalState, useGlobalState } = createGlobalState(initialState)\n\nexport const toggleTheme = () => {\n  let theme = window.localStorage['theme'] || 'dark'\n  document.body.classList.remove(theme)\n  theme = theme === 'dark' ? 'light' : 'dark'\n  document.body.classList.add(theme)\n  setGlobalState('theme', theme)\n  window.localStorage['theme'] = theme\n}\n\nexport const toggleSort = (cb: (s: string) => void) => {\n  let sort = window.localStorage['sort'] || 'popular'\n  document.body.classList.remove(sort)\n  sort = sort === 'popular' ? 'latest' : 'popular'\n  document.body.classList.add(sort)\n  setGlobalState('sort', sort)\n  window.localStorage['sort'] = sort\n  cb(sort)\n}\n\nexport const setGlobalStatePersistent = (key: string, value: any) => {\n  setGlobalState(key, value)\n\n  try {\n    window.localStorage[key] = JSON.stringify(value)\n  } catch {\n    window.localStorage[key] = value\n  }\n}\n\nwindow.addEventListener('online', () => setGlobalStatePersistent('isOffline', false))\nwindow.addEventListener('offline', () => setGlobalStatePersistent('isOffline', true))\n","export default __webpack_public_path__ + \"static/media/logo.9d11058d.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.09 30.42l-6.1 3.53v18.87l58.8 33.95V60.85z\",\n  fill: \"#ef8769\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M72.79 0l-58.8 33.95v18.87l6.1 3.53 52.7-30.43z\",\n  fill: \"#f4b691\"\n});\n\nfunction SvgLogo(_ref, svgRef) {\n  let title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 86.77 86.77\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.9d11058d.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { IonAvatar, IonButton, IonContent, IonItem, IonLabel, IonList } from '@ionic/react'\nimport { logoGithub } from 'ionicons/icons'\nimport { Plugins } from '@capacitor/core'\n\nimport { ReactComponent as Logo } from '../icons/logo.svg'\n\nconst openUrl = (url: string) => async () => {\n  await Plugins.Browser.open({ url })\n}\n\nconst resources = [\n  {\n    url: 'khabar.github.io',\n    title: 'Progressive Web App',\n    description: (\n      <>\n        The Web-app/PWA version of <strong>Khabar</strong> app is also available and powered by GitHub Pages.\n      </>\n    ),\n  },\n  {\n    logo: logoGithub,\n    url: 'github.com/khabar',\n    title: 'Source Code',\n    description: 'The complete source of this application is available in GitHub.',\n  },\n  {\n    logo: 'https://usepanda.com/favicons/apple-touch-icon.png',\n    url: 'usepanda.com',\n    title: 'Data Source (API)',\n    description:\n      'Panda is freely available news reader where you can discover the best tools, resources and inspiration in the world of design and tech.',\n  },\n  {\n    logo: 'https://ionicframework.com/img/meta/favicon-192x192.png',\n    url: 'ionicframework.com',\n    title: 'SDK/UI-toolkit (React)',\n    description:\n      'Ionic Framework is an open source UI toolkit for building cross-platform apps using web technologies.',\n  },\n]\n\nconst About = () => (\n  <IonContent className=\"about text-center\">\n    <Logo style={{ height: '10vh', marginTop: '5vh' }} />\n    <div>\n      <blockquote>\n        <strong>Khabar</strong> is a free and open-source cross-platform mobile-app/PWA for staying informed about the\n        best tools and techniques in the world of design and technology, powered by <b>Panda</b> and developed by{' '}\n        <IonButton className=\"inline-button\" fill=\"clear\" onClick={openUrl('https://himalay.com.np')}>\n          Himalay Sunuwar\n        </IonButton>\n        .\n      </blockquote>\n    </div>\n    <a\n      href=\"https://play.google.com/store/apps/details?id=np.com.himalay.khabar\"\n      target=\"_system\"\n      rel=\"noopener noreferrer\"\n    >\n      <img\n        style={{ maxHeight: '80px' }}\n        alt=\"Get it on Google Play\"\n        src=\"https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png\"\n      />\n    </a>\n    <IonList>\n      {resources.map(({ logo, url, title, description }) => (\n        <IonItem key={title} detail={false} button={true} onClick={openUrl(`https://${url}`)}>\n          <IonAvatar slot=\"start\">{logo ? <img alt={title} src={logo} /> : <Logo />}</IonAvatar>\n          <IonLabel>\n            <h2>{url}</h2>\n            <h3>{title}</h3>\n            <p>{description}</p>\n          </IonLabel>\n        </IonItem>\n      ))}\n    </IonList>\n  </IonContent>\n)\n\nexport default About\n","const timeAgo = (datetime: string) => {\n  let ago = Math.floor((new Date().getTime() - new Date(datetime).getTime()) / 1000)\n  let part = 0\n\n  if (ago < 2) {\n    return 'a moment ago'\n  }\n  if (ago < 5) {\n    return 'moments ago'\n  }\n  if (ago < 60) {\n    return ago + ' seconds ago'\n  }\n\n  if (ago < 120) {\n    return 'a minute ago'\n  }\n  if (ago < 3600) {\n    while (ago >= 60) {\n      ago -= 60\n      part += 1\n    }\n    return part + ' minutes ago'\n  }\n\n  if (ago < 7200) {\n    return 'an hour ago'\n  }\n  if (ago < 86400) {\n    while (ago >= 3600) {\n      ago -= 3600\n      part += 1\n    }\n    return part + ' hours ago'\n  }\n\n  if (ago < 172800) {\n    return 'a day ago'\n  }\n  if (ago < 604800) {\n    while (ago >= 172800) {\n      ago -= 172800\n      part += 1\n    }\n    return part + ' days ago'\n  }\n\n  if (ago < 1209600) {\n    return 'a week ago'\n  }\n  if (ago < 2592000) {\n    while (ago >= 604800) {\n      ago -= 604800\n      part += 1\n    }\n    return part + ' weeks ago'\n  }\n\n  if (ago < 5184000) {\n    return 'a month ago'\n  }\n  if (ago < 31536000) {\n    while (ago >= 2592000) {\n      ago -= 2592000\n      part += 1\n    }\n    return part + ' months ago'\n  }\n\n  if (ago < 1419120000) {\n    // 45 years, approximately the epoch\n    return 'more than year ago'\n  }\n\n  // TODO pass in Date.now() and ms to check for 0 as never\n  return 'never'\n}\n\nexport default timeAgo\n","import React from 'react'\nimport {\n  IonCard,\n  IonCardHeader,\n  IonItem,\n  IonIcon,\n  IonAvatar,\n  IonLabel,\n  IonCardContent,\n  IonSkeletonText,\n} from '@ionic/react'\nimport { caretUp, chatbubble } from 'ionicons/icons'\nimport { Plugins } from '@capacitor/core'\n\nimport timeAgo from '../utils/timeAgo'\n\nconst openUrl = (url: string) => async () => {\n  await Plugins.Browser.open({ url })\n}\n\nconst Card: React.FC<{ article: IArticle }> = ({ article }) => {\n  if (!article._id) {\n    return (\n      <IonCard>\n        <IonCardHeader className=\"p-0\">\n          <IonItem detail={false} lines=\"none\">\n            <IonAvatar className=\"favicon\" slot=\"start\">\n              <IonSkeletonText animated={true} />\n            </IonAvatar>\n\n            <IonLabel className=\"item-text\">\n              <h2>\n                <IonSkeletonText animated={true} style={{ width: '50%' }} />\n              </h2>\n              <p>\n                <IonSkeletonText animated={true} style={{ width: '95%' }} />\n              </p>\n            </IonLabel>\n          </IonItem>\n        </IonCardHeader>\n        <IonCardContent className=\"item-footer\">\n          <IonSkeletonText animated={true} style={{ width: '40%' }} />\n        </IonCardContent>\n      </IonCard>\n    )\n  }\n\n  return (\n    <IonCard>\n      {article.image.normal ? (\n        <>\n          <button className=\"img-btn\" onClick={openUrl(article.source.targetUrl)}>\n            <img\n              className=\"card-img\"\n              alt={article.title || article.source.authorName || 'x'}\n              src={article.image.normal}\n            />\n          </button>\n\n          <IonLabel className=\"item-text text-left\">\n            <h2>{article.title}</h2>\n            <p>{article.description}</p>\n          </IonLabel>\n        </>\n      ) : (\n        <IonCardHeader className=\"p-0\">\n          <IonItem detail={false} button onClick={openUrl(article.source.targetUrl)} lines=\"none\">\n            <IonAvatar className=\"favicon\" slot=\"start\">\n              <img\n                alt={article.source.name}\n                src={`https://www.google.com/s2/favicons?domain=${article.source.targetUrl}`}\n              />\n            </IonAvatar>\n\n            <IonLabel className=\"item-text\">\n              <h2>{article.title}</h2>\n              <p>{article.description}</p>\n            </IonLabel>\n          </IonItem>\n        </IonCardHeader>\n      )}\n      <IonCardContent className=\"item-footer\">\n        <a className=\"sub-link\" href={article.source.sourceUrl} target=\"_system\" rel=\"noopener noreferrer\">\n          {article.source.likesCount}\n          <IonIcon title=\"Up-votes\" icon={caretUp} className=\"up-arrow\" />\n          {article.source.commentsCount}\n          <IonIcon title=\"Comments\" style={{ marginLeft: '.15em' }} icon={chatbubble} />\n        </a>\n        {` ${timeAgo(article.source.createdAt)} by `}\n        <a\n          className=\"sub-link\"\n          href={\n            ['reddit', 'redditprogramming'].includes('segment')\n              ? `https://reddit.com/u/${article.source.username}`\n              : article.source.authorUrl\n          }\n          target=\"_system\"\n          rel=\"noopener noreferrer\"\n        >\n          {article.source.authorName || article.source.username}\n        </a>\n      </IonCardContent>\n    </IonCard>\n  )\n}\n\nexport default Card\n","import { useRef, useEffect } from 'react'\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false)\n  useEffect(() => {\n    isMounted.current = true\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n  return isMounted\n}\n\nexport default useIsMounted\n","import { setGlobalStatePersistent } from '../state'\n\nconst API_BASEURL = 'https://cors-anywhere.herokuapp.com/https://api.usepanda.com'\nconst requiredOptions = { headers: { Origin: 'https://khabar.github.io/' } }\n\nconst apiRequest = async (path: string, options?: RequestInit) => {\n  let status = 500\n  const fetchOptions = options\n    ? { ...options, headers: { ...(options.headers || {}), ...requiredOptions.headers } }\n    : requiredOptions\n\n  try {\n    status = (await fetch(API_BASEURL, fetchOptions)).status\n  } catch {\n    //\n  }\n  if (status === 200) {\n    setGlobalStatePersistent('isOffline', false)\n    const res = await fetch(API_BASEURL + path, fetchOptions)\n    if (res.ok) return res.json()\n  } else {\n    setGlobalStatePersistent('isOffline', true)\n  }\n\n  throw new Error('We encountered and error while trying to connect to the server.')\n}\n\nexport default apiRequest\n","import React, { useEffect, useState, useCallback, useRef } from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport {\n  IonContent,\n  IonRefresher,\n  IonRefresherContent,\n  IonSpinner,\n  IonButton,\n  IonButtons,\n  IonItem,\n  IonHeader,\n  IonIcon,\n  IonLabel,\n  IonTitle,\n  IonSegment,\n  IonSegmentButton,\n  IonToolbar,\n  IonFooter,\n  IonPopover,\n  IonToggle,\n  IonModal,\n  IonPage,\n  IonFab,\n  IonFabButton,\n  createGesture,\n  Gesture,\n  IonToast,\n} from '@ionic/react'\nimport {\n  add,\n  addOutline,\n  ellipsisVertical,\n  ellipsisHorizontal,\n  information,\n  chevronBack,\n  chevronForward,\n  reorderThreeOutline,\n  reorderTwoSharp,\n  cloudOffline,\n  flame,\n  flameOutline,\n  time,\n  timeOutline,\n} from 'ionicons/icons'\nimport { isPlatform, RefresherEventDetail, ScrollDetail } from '@ionic/core'\nimport cloneDeep from 'lodash/cloneDeep'\nimport throttle from 'lodash/throttle'\nimport { Plugins } from '@capacitor/core'\n\nimport { useGlobalState, toggleTheme, setGlobalStatePersistent, toggleSort } from '../state'\nimport logoSvg from '../icons/logo.svg'\nimport About from '../components/About'\nimport Card from '../components/Card'\nimport useIsMounted from '../utils/useIsMounted'\nimport apiRequest from '../utils/apiRequest'\n\nconst fetchArticles = async (feedId: string, sort:string) => apiRequest(`/v4/articles?feeds=${feedId}&limit=30&page=1&sort=${sort}`)\n\nconst HIDE_FOOTER = 'hide-footer'\nconst windowWidth = window.innerWidth\n\nconst Home: React.FC<RouteComponentProps> = ({ history }) => {\n  const isMounted = useIsMounted()\n  const [theme] = useGlobalState('theme')\n  const [sort] = useGlobalState('sort')\n  const [selectedFeeds] = useGlobalState('selectedFeeds')\n  const [feedOrder] = useGlobalState('feedOrder')\n  const [isOffline] = useGlobalState('isOffline')\n\n  const [loading, setLoading] = useState(false)\n  const [currentFeedId, setCurrentFeedId] = useState<string>('')\n  const [showPopover, setShowPopover] = useState<IShowPopover>({ open: false, event: undefined })\n  const [showAboutModal, setShowAboutModal] = useState(false)\n  const [lastScrollTop, setLastScrollTop] = useState(0)\n  const [isFooterHidden, setIsFooterHidden] = useState(false)\n  const [error, setError] = useState('')\n\n  const contentRef = useRef<HTMLIonContentElement>(null)\n  const segmentRef = useRef<HTMLIonSegmentElement>(null)\n\n  const setFeedOrder = (values: string[]) => setGlobalStatePersistent('feedOrder', values)\n  const setSelectedFeeds = (values: { [key: string]: IFeed }) => setGlobalStatePersistent('selectedFeeds', values)\n\n  const fetchAndSaveFeedData = useCallback(\n    async (feedId: string, showLoading = true, sortOverride?:string) => {\n      setLoading(showLoading)\n      try {\n        const selectedFeedsClone = cloneDeep(selectedFeeds)\n        const data = await fetchArticles(feedId, sortOverride || sort)\n        selectedFeedsClone[feedId].data = data\n        selectedFeedsClone[feedId].updatedAt = Date.now()\n        setSelectedFeeds(selectedFeedsClone)\n      } catch (e) {\n        setError(e.message)\n      } finally {\n        setLoading(false)\n      }\n    },\n    [selectedFeeds, sort],\n  )\n\n  const hydrateFeedDataIfNeeded = useCallback(\n    async (feedId: string) => {\n      const feed = selectedFeeds[feedId]\n      if ((feed && !feed.data?.length) || (feed && Date.now() - (+feed.updatedAt || 0) > 60 * 60 * 1000)) {\n        console.log('Fetching feed data for: ' + feed.title)\n        await fetchAndSaveFeedData(feedId)\n      }\n    },\n    [selectedFeeds, fetchAndSaveFeedData],\n  )\n\n  const handleSegmentChange = (e: any) => setCurrentFeedId(e.detail.value)\n  const handleNavigation = useCallback(\n    (i: number) => () => {\n      const newIndex = feedOrder.indexOf(currentFeedId) + i\n      if (newIndex >= 0 && newIndex < feedOrder.length) setCurrentFeedId(feedOrder[newIndex])\n    },\n    [currentFeedId, feedOrder],\n  )\n\n  const handleMenuDismiss = () => isMounted.current && setShowPopover({ open: false, event: undefined })\n\n  const handleThemeToggle = () => {\n    handleMenuDismiss()\n    toggleTheme()\n  }\n\n  const handleSortToggle = () => {\n    handleMenuDismiss()\n    toggleSort(async (sortBy:string) => await fetchAndSaveFeedData(currentFeedId, true, sortBy))\n  }\n\n  const handleOpenAboutModal = () => {\n    handleMenuDismiss()\n    setShowAboutModal(true)\n  }\n\n  const handleHideAboutModal = () => setShowAboutModal(false)\n\n  const doRefresh = async (e: CustomEvent<RefresherEventDetail>) => {\n    if (currentFeedId) {\n      await fetchAndSaveFeedData(currentFeedId, false)\n    }\n    e.detail.complete()\n  }\n\n  const handleShowMenuPopover = (e: React.MouseEvent<HTMLIonButtonElement, MouseEvent>) =>\n    setShowPopover({ open: true, event: e.nativeEvent })\n\n  const handleContentScroll = async (e: CustomEvent<ScrollDetail>) => {\n    const {scrollTop} = e.detail || 0\n\n    if (lastScrollTop < scrollTop) {\n      if (!isFooterHidden) {\n        segmentRef.current?.classList.add(HIDE_FOOTER)\n        setIsFooterHidden(true)\n      }\n    } else if (isFooterHidden) {\n      segmentRef.current?.classList.remove(HIDE_FOOTER)\n      setIsFooterHidden(false)\n    }\n\n    setLastScrollTop(scrollTop)\n  }\n\n  useEffect(() => {\n    let gesture: Gesture\n    if (!feedOrder.length) {\n      return history.push('/feeds')\n    }\n\n    if (!feedOrder.length) {\n      const defaultFeedOrder = Object.keys(selectedFeeds)\n      setFeedOrder(defaultFeedOrder)\n    }\n\n    if ((currentFeedId && !selectedFeeds[currentFeedId]) || !currentFeedId) {\n      const firstFeedId = feedOrder[0]\n      setCurrentFeedId(firstFeedId)\n      hydrateFeedDataIfNeeded(firstFeedId).then(console.log).catch(console.error)\n    } else {\n      hydrateFeedDataIfNeeded(currentFeedId).then(console.log).catch(console.error)\n    }\n\n    if (contentRef.current) {\n      gesture = createGesture({\n        el: contentRef.current,\n        gestureName: 'swipe-gesture',\n        onMove: (ev) => {\n          if (ev.deltaX > windowWidth / 2) {\n            handleNavigation(-1)()\n          } else if (ev.deltaX < -windowWidth / 2) {\n            handleNavigation(1)()\n          }\n        },\n      })\n      gesture.enable()\n    }\n\n    Plugins.App.addListener('backButton', async () => {\n      if (showAboutModal) {\n        handleHideAboutModal()\n      } else {\n        const { value } = await Plugins.Modals.confirm({\n          title: 'Exit',\n          message: 'Are you sure you want to exit?',\n          cancelButtonTitle: 'No',\n          okButtonTitle: 'Yes',\n        })\n\n        if (value) Plugins.App.exitApp()\n      }\n    })\n\n    return () => {\n      gesture?.destroy()\n      Plugins.App.removeAllListeners()\n    }\n  }, [feedOrder, selectedFeeds, history, currentFeedId, hydrateFeedDataIfNeeded, handleNavigation, showAboutModal])\n\n  const data = (currentFeedId && selectedFeeds[currentFeedId]?.data) || []\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonIcon title=\"Khabar\" slot=\"icon-only\" src={logoSvg} />\n          </IonButtons>\n\n          <IonTitle>{currentFeedId ? selectedFeeds[currentFeedId]?.title : 'Khabar'}</IonTitle>\n          <IonButtons slot=\"end\">\n            {isOffline && <IonIcon title=\"Offline\" icon={cloudOffline} />}\n            <IonButton onClick={handleSortToggle} slot=\"end\" title={sort[0].toUpperCase() + sort.slice(1)} >\n              <IonIcon slot=\"icon-only\" ios={sort === 'popular' ? flameOutline : timeOutline} md={sort === 'popular' ? flame : time} />\n            </IonButton>\n            <IonPopover isOpen={showPopover.open} event={showPopover.event} onDidDismiss={handleMenuDismiss}>\n              <IonItem detail={false}>\n                <IonLabel>Theme</IonLabel>\n                <IonToggle\n                  checked={theme === 'light'}\n                  color={theme === 'dark' ? 'light' : 'dark'}\n                  onIonChange={handleThemeToggle}\n                />\n              </IonItem>\n              <IonItem detail={false} button={true} onClick={handleMenuDismiss} routerLink=\"/feeds\">\n                <IonLabel>Feeds</IonLabel>\n                <IonIcon title=\"Feed\" md={add} ios={addOutline} slot=\"end\" />\n              </IonItem>\n              <IonItem detail={false} button={true} onClick={handleMenuDismiss} routerLink=\"/reorder\">\n                <IonLabel>Reorder</IonLabel>\n                <IonIcon title=\"Reorder\" md={reorderTwoSharp} ios={reorderThreeOutline} slot=\"end\" />\n              </IonItem>\n              <IonItem detail={false} button={true} onClick={handleOpenAboutModal}>\n                <IonLabel>About</IonLabel>\n                <IonIcon title=\"Reorder\" icon={information} slot=\"end\" />\n              </IonItem>\n            </IonPopover>\n            <IonButton onClick={handleShowMenuPopover} slot=\"end\" title=\"Menu\">\n              <IonIcon slot=\"icon-only\" ios={ellipsisHorizontal} md={ellipsisVertical} />\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent ref={contentRef} className=\"article-content\" scrollEvents={true} onIonScroll={throttle(handleContentScroll, 200)}>\n        <IonRefresher slot=\"fixed\" onIonRefresh={doRefresh}>\n          <IonRefresherContent refreshingSpinner=\"dots\" />\n        </IonRefresher>\n        {(!currentFeedId || loading) && <IonSpinner className=\"w-100\" name=\"dots\" duration={30} />}\n        {data.length\n          ? data.map((article: IArticle) => <Card key={article._id} article={article} />)\n          : [...new Array(12)].map((x, i) => <Card key={'card' + i} article={{} as IArticle} />)}\n        <IonToast\n          isOpen={error !== ''}\n          color=\"danger\"\n          duration={15000}\n          onDidDismiss={() => setError('')}\n          message={error}\n          buttons={[\n            {\n              text: 'Retry',\n              handler: () => {\n                fetchAndSaveFeedData(currentFeedId)\n                  .then(() => console.log('Feeds fetched'))\n                  .catch(console.error)\n              },\n            },\n          ]}\n        />\n      </IonContent>\n      {isPlatform('desktop') && (\n        <>\n          <IonFab vertical=\"center\" horizontal=\"start\" slot=\"fixed\" hidden={feedOrder.indexOf(currentFeedId) === 0}>\n            <IonFabButton translucent={true} onClick={handleNavigation(-1)}>\n              <IonIcon icon={chevronBack} />\n            </IonFabButton>\n          </IonFab>\n\n          <IonFab\n            vertical=\"center\"\n            horizontal=\"end\"\n            slot=\"fixed\"\n            hidden={feedOrder.indexOf(currentFeedId) === feedOrder.length - 1}\n          >\n            <IonFabButton translucent={true} onClick={handleNavigation(1)}>\n              <IonIcon icon={chevronForward} />\n            </IonFabButton>\n          </IonFab>\n        </>\n      )}\n\n      <IonFooter>\n        <IonSegment\n          ref={segmentRef}\n          className=\"footer\"\n          scrollable={true}\n          value={currentFeedId}\n          onIonChange={handleSegmentChange}\n        >\n          {(feedOrder as string[]).map((id, i) => {\n            return selectedFeeds[id] ? (\n              <IonSegmentButton key={'segmentBtn' + id} value={id} data-index={'' + i} title={selectedFeeds[id].title}>\n                <img alt={selectedFeeds[id].title} src={selectedFeeds[id].icon} />\n              </IonSegmentButton>\n            ) : null\n          })}\n        </IonSegment>\n      </IonFooter>\n\n      <IonModal isOpen={showAboutModal} swipeToClose={true} onDidDismiss={handleHideAboutModal}>\n        <IonHeader>\n          <IonToolbar>\n            <IonButtons slot=\"start\">\n              <IonIcon title=\"Khabar\" slot=\"icon-only\" src={logoSvg} />\n            </IonButtons>\n\n            <IonTitle>About</IonTitle>\n\n            <IonButtons slot=\"end\">\n              <IonButton onClick={handleHideAboutModal}>Close</IonButton>\n            </IonButtons>\n          </IonToolbar>\n        </IonHeader>\n        <About />\n      </IonModal>\n    </IonPage>\n  )\n}\n\nexport default Home\n","import {\n  IonButton,\n  IonButtons,\n  IonPage,\n  IonContent,\n  IonSearchbar,\n  IonRefresher,\n  IonRefresherContent,\n  IonItem,\n  IonHeader,\n  IonAvatar,\n  IonSpinner,\n  IonLabel,\n  IonTitle,\n  IonToolbar,\n  IonIcon,\n  IonChip,\n  IonToggle,\n  IonSkeletonText,\n  IonToast,\n} from '@ionic/react'\nimport React, { useCallback, useEffect, useRef, useState } from 'react'\nimport Fuse from 'fuse.js'\nimport uniqBy from 'lodash/uniqBy'\nimport cloneDeep from 'lodash/cloneDeep'\nimport { RefresherEventDetail, SearchbarChangeEventDetail } from '@ionic/core'\nimport { RouteComponentProps } from 'react-router'\nimport { cloudOffline } from 'ionicons/icons'\nimport { Plugins } from '@capacitor/core'\n\nimport logoSvg from '../icons/logo.svg'\nimport { useGlobalState, setGlobalStatePersistent } from '../state'\nimport apiRequest from '../utils/apiRequest'\nimport useIsMounted from '../utils/useIsMounted'\n\nconst fuseOptions = {\n  minMatchCharLength: 2,\n  threshold: 0.4,\n  keys: ['title', 'description', 'categories'],\n}\n\nconst fetchFeedsByTag = async (tagId: string): Promise<IFeed[]> =>\n  apiRequest(`/v4/feeds/query?category=${tagId.split('$').pop()}&limit=100&page=1`)\n\nconst Feeds: React.FC<RouteComponentProps> = () => {\n  const mounted = useIsMounted()\n  const [feeds] = useGlobalState('feeds')\n  const [selectedFeeds] = useGlobalState('selectedFeeds')\n  const [feedOrder] = useGlobalState('feedOrder')\n  const [tags] = useGlobalState('tags')\n  const [isOffline] = useGlobalState('isOffline')\n  const [loading, setLoading] = useState(false)\n  const [searchText, setSearchText] = useState('')\n  const [selectedTag, setSelectedTag] = useState('source-category$featured')\n  const [subTags, setSubTags] = useState<ITag[]>([])\n  const [selectedSubTag, setSelectedSubTag] = useState('')\n  const [filteredFeeds, setFilteredFeeds] = useState<IFeed[]>([])\n  const [error, setError] = useState('')\n\n  const contentRef = useRef<HTMLIonContentElement>(null)\n  const fuse = new Fuse(feeds, fuseOptions)\n\n  const setSelectedFeeds = (value: { [key: string]: IFeed }) => setGlobalStatePersistent('selectedFeeds', value)\n  const setFeedOrder = (value: string[]) => setGlobalStatePersistent('feedOrder', value)\n\n  const handleTagFilter = useCallback(\n    (tagId: string, newFeeds?: IFeed[]) => {\n      setLoading(true)\n      setFilteredFeeds((newFeeds || (feeds as IFeed[])).filter(({ categories }) => categories.includes(tagId)))\n      setLoading(false)\n    },\n    [feeds],\n  )\n\n  const fetchFeeds = useCallback(\n    async (showLoading = true) => {\n      setLoading(showLoading)\n      try {\n        const tagsData = await apiRequest('/v1/tags')\n\n        const feedsDataArray = await Promise.all(\n          (tagsData as ITag[]).reduce((acc: Promise<IFeed[]>[], { _id, children }) => {\n            if (children.length) {\n              acc = acc.concat(children.map((x) => fetchFeedsByTag(x._id)))\n            } else {\n              acc.push(fetchFeedsByTag(_id))\n            }\n            return acc\n          }, []),\n        )\n\n        setGlobalStatePersistent('feeds', uniqBy(([] as IFeed[]).concat(...feedsDataArray), 'id'))\n        setGlobalStatePersistent('tags', tagsData)\n      } catch (e) {\n        setError(e.message)\n      } finally {\n        if (mounted.current) setLoading(false)\n      }\n    },\n    [mounted],\n  )\n\n  const handleTagSelect = (_id: string, children: ITag[]) => () => {\n    setSelectedTag(_id)\n    setSubTags(children)\n    setSelectedSubTag(children.length ? children[0]._id : '')\n    handleTagFilter(children.length ? children[0]._id : _id)\n  }\n\n  const handleSubTagSelect = (_id: string) => () => {\n    setSelectedSubTag(_id)\n    handleTagFilter(_id)\n  }\n\n  const handleToggleSelectFeed = (feed: IFeed) => async () => {\n    const { id } = feed\n    const selectedFeedsClone = cloneDeep(selectedFeeds)\n    if (selectedFeedsClone[id]) {\n      delete selectedFeedsClone[id]\n\n      const newFeedOrder = [...feedOrder]\n      const index = newFeedOrder.indexOf(id)\n\n      setSelectedFeeds(selectedFeedsClone)\n\n      if (index > -1) {\n        newFeedOrder.splice(index, 1)\n        setFeedOrder(newFeedOrder)\n      }\n    } else {\n      selectedFeedsClone[id] = feed\n      setSelectedFeeds(selectedFeedsClone)\n      setFeedOrder([...new Set([...feedOrder, id])])\n    }\n  }\n\n  const handleSearch = (e: CustomEvent<SearchbarChangeEventDetail | void>) => {\n    if (e.detail && e.detail.value) {\n      const value = e.detail.value\n      setSearchText(value)\n      setFilteredFeeds(fuse.search(value).map(({ item }) => item as IFeed))\n    } else {\n      setSearchText('')\n      handleTagFilter(selectedSubTag || selectedTag)\n    }\n  }\n\n  const doRefresh = async (e: CustomEvent<RefresherEventDetail>) => {\n    await fetchFeeds(false)\n    e.detail.complete()\n  }\n\n  useEffect(() => {\n    if (feeds.length && tags.length) {\n      if (!filteredFeeds.length) handleTagFilter(selectedTag)\n    } else {\n      fetchFeeds()\n        .then(() => console.log('Feeds fetched'))\n        .catch(console.error)\n    }\n\n    Plugins.App.addListener('backButton', async () => {\n      if (!Object.keys(selectedFeeds).length) {\n        const { value } = await Plugins.Modals.confirm({\n          title: 'Exit',\n          message: 'Are you sure you want to exit?',\n          cancelButtonTitle: 'No',\n          okButtonTitle: 'Yes',\n        })\n\n        if (value) Plugins.App.exitApp()\n      }\n    })\n\n    return () => {\n      Plugins.App.removeAllListeners()\n    }\n  }, [feeds, tags, selectedTag, handleTagFilter, filteredFeeds, selectedFeeds, fetchFeeds])\n\n  const selectedFeedIds = Object.keys(selectedFeeds)\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonIcon title=\"Khabar\" slot=\"icon-only\" src={logoSvg} />\n          </IonButtons>\n          <IonTitle>Feeds</IonTitle>\n          <IonButtons slot=\"end\">\n            {isOffline && <IonIcon title=\"Offline\" icon={cloudOffline} />}\n            <IonButton disabled={Object.keys(selectedFeeds).length === 0} routerLink=\"/home\">\n              Done\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"feed-content\" ref={contentRef}>\n        <IonSearchbar\n          value={searchText}\n          placeholder=\"Type website name or topic\"\n          onIonChange={handleSearch}\n          onIonCancel={handleSearch}\n        />\n\n        <IonRefresher slot=\"fixed\" onIonRefresh={doRefresh}>\n          <IonRefresherContent refreshingSpinner=\"dots\" />\n        </IonRefresher>\n\n        {loading && <IonSpinner className=\"w-100\" name=\"dots\" duration={30} />}\n        {searchText === '' && (\n          <div className=\"text-center\">\n            {tags.length\n              ? (tags as ITag[]).map(({ _id, displayName, children }, i) => (\n                  <IonChip\n                    key={_id}\n                    {...(selectedTag === _id ? { color: 'secondary', outline: true } : {})}\n                    onClick={handleTagSelect(_id, children)}\n                  >\n                    <IonLabel>{displayName}</IonLabel>\n                  </IonChip>\n                ))\n              : [...new Array(12)].map((x, i) => (\n                  <IonChip key={'chips' + i}>\n                    <IonSkeletonText\n                      animated={true}\n                      style={{ width: Math.floor(Math.random() * (i + 30)) + 20 + 'px' }}\n                    />\n                  </IonChip>\n                ))}\n            {subTags.length > 0 && (\n              <>\n                <h4>Be more specific</h4>\n                {subTags.map(({ _id, displayName }) => (\n                  <IonChip\n                    key={_id}\n                    className=\"sub-tag\"\n                    {...(selectedSubTag === _id ? { color: 'secondary', outline: true } : {})}\n                    onClick={handleSubTagSelect(_id)}\n                  >\n                    <IonLabel>{displayName}</IonLabel>\n                  </IonChip>\n                ))}\n              </>\n            )}\n          </div>\n        )}\n        {filteredFeeds.length\n          ? filteredFeeds.map((x) => (\n              <IonItem detail={false} key={x.id} className=\"w-100\">\n                <IonAvatar slot=\"start\">\n                  <img alt={x.title} src={x.icon} />\n                </IonAvatar>\n                <IonLabel className=\"ion-text-wrap\">\n                  <h3>{x.title}</h3>\n                  <p>{x.description}</p>\n                </IonLabel>\n                <IonToggle\n                  slot=\"end\"\n                  checked={selectedFeedIds.includes(x.id)}\n                  onIonChange={handleToggleSelectFeed(x)}\n                />\n              </IonItem>\n            ))\n          : [...new Array(12)].map((x, i) => (\n              <IonItem key={'skeleton' + i} detail={false} className=\"w-100\">\n                <IonAvatar slot=\"start\">\n                  <IonSkeletonText animated={true} />\n                </IonAvatar>\n                <IonLabel className=\"ion-text-wrap\">\n                  <h3>\n                    <IonSkeletonText animated={true} style={{ width: '45%' }} />\n                  </h3>\n                  <p>\n                    <IonSkeletonText animated={true} style={{ width: '85%' }} />\n                  </p>\n                </IonLabel>\n                <IonSkeletonText slot=\"end\" animated={true} style={{ width: '10%' }} />\n              </IonItem>\n            ))}\n        <IonToast\n          isOpen={error !== ''}\n          color=\"danger\"\n          duration={15000}\n          onDidDismiss={() => setError('')}\n          message={error}\n          buttons={[\n            {\n              text: 'Retry',\n              handler: () => {\n                fetchFeeds()\n                  .then(() => console.log('Feeds fetched'))\n                  .catch(console.error)\n              },\n            },\n          ]}\n        />\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Feeds\n","import React, { useEffect } from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonItem,\n  IonHeader,\n  IonIcon,\n  IonAvatar,\n  IonLabel,\n  IonTitle,\n  IonToolbar,\n  IonReorderGroup,\n  IonReorder,\n  IonPage,\n} from '@ionic/react'\n\nimport { ItemReorderEventDetail } from '@ionic/core'\nimport cloneDeep from 'lodash/cloneDeep'\n\nimport { useGlobalState, setGlobalStatePersistent } from '../state'\n\nimport logoSvg from '../icons/logo.svg'\n\nconst Reorder: React.FC<RouteComponentProps> = ({ history }) => {\n  const [selectedFeeds] = useGlobalState('selectedFeeds')\n  const [feedOrder] = useGlobalState('feedOrder')\n\n  const setFeedOrder = (values: string[]) => setGlobalStatePersistent('feedOrder', values)\n\n  const handleReorder = async (e: CustomEvent<ItemReorderEventDetail>) => {\n    if (!e || !e.detail) {\n      return\n    }\n\n    if (e.detail.from === e.detail.to) {\n      return\n    }\n\n    const newFeedOrder: string[] = cloneDeep(feedOrder)\n\n    newFeedOrder.splice(e.detail.to, 0, ...newFeedOrder.splice(e.detail.from, 1))\n\n    setFeedOrder(newFeedOrder)\n\n    e.detail.complete()\n  }\n\n  useEffect(() => {\n    if (!feedOrder.length) {\n      const defaultFeedOrder = Object.keys(selectedFeeds)\n      setFeedOrder(defaultFeedOrder)\n    }\n  }, [selectedFeeds, feedOrder])\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonIcon title=\"Khabar\" slot=\"icon-only\" src={logoSvg} />\n          </IonButtons>\n\n          <IonTitle>Reorder</IonTitle>\n\n          <IonButtons slot=\"end\">\n            <IonButton routerLink=\"/home\">Done</IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"feed-content\">\n        <IonReorderGroup disabled={false} onIonItemReorder={handleReorder}>\n          {(feedOrder as string[]).map((id: string) => (\n            <IonItem detail={false} key={id}>\n              <IonAvatar slot=\"start\">\n                <img alt={selectedFeeds[id].title} src={selectedFeeds[id].icon} />\n              </IonAvatar>\n              <IonLabel className=\"ion-text-wrap\">\n                <h3>{selectedFeeds[id].title}</h3>\n                <p>{selectedFeeds[id].description}</p>\n              </IonLabel>\n              <IonReorder slot=\"end\" />\n            </IonItem>\n          ))}\n        </IonReorderGroup>\n      </IonContent>\n    </IonPage>\n  )\n}\n\nexport default Reorder\n","import React from 'react'\nimport { IonApp, IonRouterOutlet } from '@ionic/react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { IonReactRouter } from '@ionic/react-router'\n\nimport Home from './pages/Home'\nimport Feeds from './pages/Feeds'\nimport Reorder from './pages/Reorder'\n\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css'\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css'\nimport '@ionic/react/css/structure.css'\nimport '@ionic/react/css/typography.css'\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css'\nimport '@ionic/react/css/float-elements.css'\nimport '@ionic/react/css/text-alignment.css'\nimport '@ionic/react/css/text-transformation.css'\nimport '@ionic/react/css/flex-utils.css'\nimport '@ionic/react/css/display.css'\n\n/* Theme variables */\nimport './theme/variables.css'\nimport './styles.css'\n\nconst App: React.FunctionComponent = () => (\n  <IonApp>\n    <IonReactRouter>\n      <IonRouterOutlet id=\"main\">\n        <Route path=\"/feeds\" component={Feeds} exact />\n        <Route path=\"/reorder\" component={Reorder} exact />\n        <Route path=\"/home\" component={Home} exact />\n        <Redirect to=\"/home\" />\n      </IonRouterOutlet>\n    </IonReactRouter>\n  </IonApp>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL((process as { env: { [key: string]: string } }).env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready\n          .then(() => {\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit http://bit.ly/CRA-PWA',\n            )\n          })\n          .catch(console.error)\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker === null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (response.status === 404 || (contentType !== null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready\n          .then((registration) => registration.unregister())\n          .then(() => {\n            window.location.reload()\n          })\n          .catch(console.error)\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => registration.unregister()).catch(console.error)\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { isPlatform } from '@ionic/core'\n\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nconst theme = window.localStorage['theme'] || 'dark'\ndocument.body.classList.add(theme)\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nif (!isPlatform('capacitor')) serviceWorker.register()\n"],"sourceRoot":""}